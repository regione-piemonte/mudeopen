INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('MUDE_EMAIL_NUM_MAX_RETRY','3','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('PPAY_URL_GETIUV','','url chiamata REST PiemontePay per la getIUVChiamanteEsterno',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('PPAY_URL_PAGAMENTOIUV','','url chiamata REST PiemontePay per la pagamentoIUV',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('PPAY_UID','','username chiamate REST PiemontePay',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('PPAY_PWD','','password chiamate REST PiemontePay',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('Versione','1.0.0',NULL,NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('codice_prodotto','MUDEOPEN',NULL,NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('codice_linea_cliente','RP-01',NULL,NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('codice_ambiente','prod','local, prod, test, dev, demo, coll',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('codice_unita_installazione','MUDEBL',NULL,NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('MUDE_INDEX_TENANT_NAME','','Tenant INDEX di mude per archiviazione documenti',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_INDEX_TENANT_UUID','','uuid_index della root di mude',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_GEECO_SVISTA_GG_RETRAY','30','giorni retention poligono svista',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_PDFA_ENABLED','1','switch pdfa 1  o pdf 0',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('RUOLI_FIRMATARI_ISTANZA_DENUNCIA-SISMICA','SKIP_CF_CHECK',NULL,NULL,NULL,'2024-07-02 12:25:25.123331','2024-07-02 12:25:25.123331',NULL,NULL),
	 ('MUDE_PDFA_FONT_EMBEDDED','0','switch font 1  o pdf 0',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_NOTIFICA_OGGETTO_1','Istanza MUDEOPEN n. ','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_NOTIFICA_OGGETTO_2','Istanza ','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_NOTIFICA_TESTO_1','Si comunica che l''istanza in oggetto è stata ','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('GEECO_MAPPA','abilitato','abilitato (default) | disabilitato',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('PPAY','abilitato','abilitato (default) | disabilitato',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('LOCCSI_URL_TOPONOMASTICA','','URL di ricerca locsi. Possibili parametri: ${ricerca}, ${sigla_comune}, ${comune}',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('LOCCSI_URL_UID','','username urls loccsi',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('LOCCSI_URL_PWD','','password urls loccsi',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('LOCCSI_CALL_TRACE',NULL,'disabled (default), enabled',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('COSMO_URL_TOKEN','',NULL,NULL,NULL,'2024-07-04 09:39:17.975059','2024-07-04 09:39:17.975059',NULL,NULL),
	 ('COSMO_CONSUMER_SECRET','',NULL,NULL,NULL,'2024-07-04 09:39:32.920144','2024-07-04 09:39:32.920144',NULL,NULL),
	 ('GEECO_FE_CALLBACK__URL','','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('GEECO_UID','','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('GEECO_ENV','prod','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('INDEX_SERVICE_URL','/documentale/indexcsiexp-exp01/v1','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('INDEX_CUSTOMER_KEY','','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('INDEX_CONSUMER_SECRET','','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('INDEX_TENANT','mude','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('INDEX_USERNAME','admin','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('INDEX_PASSWORD','mude','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('INDEX_REPOSITORY','primary','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('INDEX_CALL_TRACE',NULL,'disabled (default), enabled',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('WEBSERVICES_API_BASIC_AUTH','disabilitato','Abilita l’autenticazione basic nelle comunicazioni interne REASTEASY tra server WS (SOAP) e server che espone i servizi API (REST)',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_MAIL_ECCEZIONIXML_MITTENTE','mude-noreply@csi.it','Email mittente delle comunicazioni automatiche MUDE',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('MUDE_MAIL_VALIDAZIONE_OGGETTO','Anomalia conversione XML unico - istanza ID','Oggetto email in caso di errori di validazione XML unico',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_DESCRIZIONE_GESTORE','MUDE Regione Piemonte','Identifica il Sistema che gestisce le istanze MUDE; attualmente utilizzato dal tracciato unico',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_MAIL_ECCEZIONIXML_INDIRIZZO','','E-Mail a cui mandare la comunicazione di fallimento validazione XML unico',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_ALLOWED_CF_PM','SKIP_CF_NULL','codici fiscali per test',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('COSMO_CUSTOMER_KEY','',NULL,NULL,NULL,'2024-07-04 09:40:18.762852','2024-07-04 09:40:18.762852',NULL,NULL),
	 ('MUDE_ALLOWED_FILE_EXTENSIONS','application/pdf,.pdf,.p7m','Tipi di estensione permessi per gli allegati','FO',NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IL_DS','allegato-comunicazione-a-seguito-di-richiesta-integrazione-o-di-integrazione-volontaria',NULL,NULL,NULL,'2024-07-18 14:53:24.99956','2024-07-18 14:53:24.99956',NULL,NULL),
	 ('COSMO_SERVICES_ENDPOINT','',NULL,NULL,NULL,'2024-07-04 09:48:27.516992','2024-07-04 09:48:27.516992',NULL,NULL),
	 ('DPS_DATABASE_SCRIPT','SELECT fnc_assign_cosmo_tipo_controllo(:idIstanza);
SELECT fnc_copy_ds_data(:idIstanza);
','script eseguito al momento del DPS','DENUNCIA-SISMICA',NULL,'2024-01-09 21:42:38.906','2024-01-09 21:42:38.906',NULL,NULL),
	 ('SVISTA_CONSUMER_KEY','',NULL,NULL,NULL,'2024-11-21 15:20:58.834974','2024-11-21 15:20:58.834974',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_IL_DS','comunicazione-a-seguito-di-richiesta-integrazione-o-di-integrazione-volontaria',NULL,NULL,NULL,'2024-07-18 14:53:24.99956','2024-07-18 14:53:24.99956',NULL,NULL),
	 ('SVISTA_CONSUMER_SECRET','',NULL,NULL,NULL,'2024-11-21 15:20:58.879522','2024-11-21 15:20:58.879522',NULL,NULL),
	 ('SVISTA_URL_POLIGONI','',NULL,NULL,NULL,'2024-11-21 15:20:58.976602','2024-11-21 15:20:58.976602',NULL,NULL),
	 ('SVISTA_URLTOKEN','',NULL,NULL,NULL,'2024-11-21 15:20:58.932065','2024-11-21 15:20:58.932065',NULL,NULL),
	 ('OLD_SVISTA_CONSUMER_KEY','','url servizio svista',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_INDEX_MAX_MB_FILE','25','Grandezza massima ammessa per allegato espressa in Mb','FO',NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('OLD_GEECO_URL','','URL config',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('OLD_GEECO_URL_TOKEN','','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('OLD_GEECO_CUSTOMER_KEY','','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_RIF_NORMATIVI_DATA_AVVIO_PROCEDIMENTO','Ai sensi della L. 7 agosto 1990 nr 241, del D.P.R. 6 giugno 2001 nr 380 e dell''art. 49 della LR 56/1977 si comunica che la data di avvio del procedimento corrisponde alla data di presentazione dell''istanza e il valore dell''ultima data di invio dell''istanza, considerando quindi quello con data_inizio più recente.','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('MUDE_RIF_NORMATIVI_TERMINI_PROCEDIMENTO','Ai sensi dei commi 2 e 3 dell''art. 2 L. 241/1990 si comunica che la domanda sarà esaminata secondo l''ordine cronologico di presentazione e nel rispetto dei termini previsti ','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_RIF_NORMATIVI_TERMINI_PROCEDIMENTO_SCIA','dall''art. 19 comma 3 della L 241/1990 e smi.','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_RIF_NORMATIVI_TERMINI_PROCEDIMENTO_PDC','dall''art. 20 del DPR 380/2001 e smi.','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_RIF_NORMATIVI_TERMINI_PROCEDIMENTO_AUT_PAES_ordinaria','dall''art. 22 del D. Lgs. 42/2004 e smi.','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_RIF_NORMATIVI_TERMINI_PROCEDIMENTO_AUT_PAES_semplificata','dal DPR 139/2010 e smi.','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_RIF_NORMATIVI_TERMINI_PROCEDIMENTO_SCIA_ALTPDC','dall''art. 23 del DPR 380/2001 e smi.','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_RIF_NORMATIVI_TERMINI_PROCEDIMENTO_SCIA_AGIBIL','dall''art. 24 del DPR 380/2001 e smi.','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_RIF_NORMATIVI_TERMINI_PROCEDIMENTO_NON_RISPETTO','Decorso inutilmente il termine per la conclusione del procedimento, il privato può rivolgersi al responsabile individuato nell''ambito delle figure apicali dell''amministrazione, cui è attribuito il potere sostitutivo in caso di inerzia, così come previsto all''art. 2 comma 9-ter L. 241/1990.','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_RIF_NORMATIVI_DATA_AVVIO_PROCEDIMENTO_DPS','Ai sensi della L. 7 agosto 1990 nr 241, del D.P.R. 6 giugno 2001 nr 380 e dell''art. 49 della LR 56/1977, si comunica che la presentazione dell''istanza MUDE n.','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('MUDE_LOGOUT_URL','','URL di logout, oppure default configuratolato client','FO',NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('LOCCSI_URL_API','','url servizi API esposti da LOCCSI',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('LOCCSI_URL_TOKEN','','url token API per servizi LOCCSI',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('LOCCSI_CUSTOMER_KEY','','customer key servizi LOCCSI',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('LOCCSI_CONSUMER_SECRET','','sevret key per servizi LOCCSI',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('INDEX_TOKEN_ENDPOINT','','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('INDEX_SERVICES_ENDPOINT','','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('SIGMATER_MOCK','false','mock chiamate sigmater',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('SIGMATER_USER','',NULL,NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('SIGMATER_PASSWORD','',NULL,NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('SIGMATER_GENERALI_URL','',NULL,NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('SIGMATER_UIU_URL','',NULL,NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('SIGMATER_TERRENI_URL','',NULL,NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_COLLAUDO_DS_TD','allegato-comunicazione-a-seguito-di-richiesta-integrazione-o-di-integrazione-volontaria',NULL,NULL,NULL,'2024-07-18 14:55:57.762473','2024-07-18 14:55:57.762473',NULL,NULL),
	 ('COSMO_TIPO_PRATICA_DENUNCIA_SISMICA','denuncia-sismica',NULL,NULL,NULL,'2024-05-23 14:57:02.007','2024-05-23 14:57:02.007',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_COLLAUDO_DS_TD','comunicazione-a-seguito-di-richiesta-integrazione-o-di-integrazione-volontaria',NULL,NULL,NULL,'2024-07-18 14:55:57.762473','2024-07-18 14:55:57.762473',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_DRE_DS_TD','allegato-comunicazione-a-seguito-di-richiesta-integrazione-o-di-integrazione-volontaria',NULL,NULL,NULL,'2024-07-18 14:55:57.762473','2024-07-18 14:55:57.762473',NULL,NULL),
	 ('COSMO_TIPO_PRATICA_DENUNCIA_SISMICA_CC','ControlloCampione',NULL,NULL,NULL,'2024-05-23 14:57:02.007','2024-05-23 14:57:02.007',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_DRE_DS_TD','comunicazione-a-seguito-di-richiesta-integrazione-o-di-integrazione-volontaria',NULL,NULL,NULL,'2024-07-18 14:55:57.762473','2024-07-18 14:55:57.762473',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_DENUNCIA_SISMICA_VAR','allegato-denuncia-lavori-di-costruzione-in-zona-sismica-modello-2',NULL,NULL,NULL,'2024-03-26 15:19:09.277','2024-03-26 15:19:09.277',NULL,'SPE00RP208,SPE00RP211'),
	 ('DELETE_SOAP_SESSION_IDS','abilitato',NULL,NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_DENUNCIA_SISMICA_VAR','denuncia-lavori-di-costruzione-in-zona-sismica-modello-2',NULL,NULL,NULL,'2024-03-26 15:19:09.277','2024-03-26 15:19:09.277',NULL,'SPE00RP208,SPE00RP211'),
	 ('GEECO_URL_GET_METADATA_SERVICE','','recupera eventualmente i metadati salvati su geeco per l''apertura della mappa. PROD: https://extga.territorio.csi.it/apidoc/cgsiapi/${env}/${versione}/${geecoSessionID}/data-saved/by-app-id/${UUID}',NULL,NULL,'2023-10-31 11:07:45.174','2023-10-31 11:07:45.174',NULL,NULL),
	 ('COSMO_TIPO_PRATICA_FIL_DS','FineLavori',NULL,NULL,NULL,'2024-05-23 14:57:02.007','2024-05-23 14:57:02.007',NULL,NULL),
	 ('PPAY_SKIP_FLAG_PRECARIO','disabilitato',NULL,'FO',NULL,'2024-01-08 15:41:55.115','2024-01-08 15:41:55.115',NULL,NULL),
	 ('TOPONOMASTICA_SERVICES_ENDPOINT','','CTSERV APIs endpoint',NULL,NULL,'2024-05-15 16:21:59.833877','2024-05-15 16:21:59.833877',NULL,NULL),
	 ('TOPONOMASTICA_URL_TOKEN','','URL per Token Retry',NULL,NULL,'2024-05-15 16:21:59.833877','2024-05-15 16:21:59.833877',NULL,NULL),
	 ('TOPONOMASTICA_CONSUMER_SECRET','','Consumer secret per Token Retry',NULL,NULL,'2024-05-15 16:21:59.833877','2024-05-15 16:21:59.833877',NULL,NULL),
	 ('TOPONOMASTICA_CUSTOMER_KEY','','Consumer key per Token Retry',NULL,NULL,'2024-05-15 16:21:59.833877','2024-05-15 16:21:59.833877',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_DENUNCIA_SISMICA','allegato-denuncia-lavori-di-costruzione-in-zona-sismica-modello-1',NULL,NULL,NULL,'2024-03-26 15:19:09.277','2024-03-26 15:19:09.277',NULL,NULL),
	 ('TOPONOMASTICA_REVOLVE_FROM_CTSERV_FIRST','disabled','prende sedime+descrizione sempre prima da API CTSERV',NULL,NULL,'2024-05-15 16:21:59.833877','2024-05-15 16:21:59.833877',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('COSMO_CODICE_TIPO_ALLEGATO_RSU_DS_TD','allegato-comunicazione-a-seguito-di-richiesta-integrazione-o-di-integrazione-volontaria',NULL,NULL,NULL,'2024-07-18 14:55:57.762473','2024-07-18 14:55:57.762473',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_RSU_DS_TD','comunicazione-a-seguito-di-richiesta-integrazione-o-di-integrazione-volontaria',NULL,NULL,NULL,'2024-07-18 14:55:57.762473','2024-07-18 14:55:57.762473',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_DENUNCIA_SISMICA','denuncia-lavori-di-costruzione-in-zona-sismica-modello-1',NULL,NULL,NULL,'2024-03-26 15:19:09.277','2024-03-26 15:19:09.277',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_FIL_DS','certificato-di-fine-lavori-modello-5',NULL,NULL,NULL,'2024-05-23 16:34:51.885','2024-05-23 16:34:51.885',NULL,NULL),
	 ('COSMO_TEMPLATE_PG_CC','{{ex_RUOLO.descrizione}}<br>
{{ex_CONTATTO.anagrafica.ragioneSociale}}<br>
c.a {{ex_CONTATTO.anagrafica.cognomeLegaleRappresentante}} {{ex_CONTATTO.anagrafica.nomeLegaleRappresentante}}<br>',NULL,NULL,'2024-04-18 16:29:44.98271+02','2024-04-18 16:29:44.982',NULL,NULL,NULL),
	 ('MUDE_HOSTNAME_SEND_EMAIL','','hostname che deve inviare mail',NULL,NULL,'2023-08-18 17:50:00.021','2023-08-18 17:50:00.092',NULL,NULL),
	 ('COSMO_SEGNALE_INT_DOC','INTEGRAZIONE',NULL,NULL,NULL,'2024-05-23 18:09:32.905','2024-05-23 18:09:32.905',NULL,NULL),
	 ('PDF_ISTANZA_CHECKS','skipCFCompare','possibili valori: skipCFCompare, skipCheckFileHash, skipVerifySignedDocument',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_DRE_DS','allegato-dichiarazione-di-regolare-esecuzione',NULL,NULL,NULL,'2024-05-23 16:34:51.885','2024-05-23 16:34:51.885',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_COLLAUDO_DS','certificato-di-collaudo-statico',NULL,NULL,NULL,'2024-05-23 16:34:51.885','2024-05-23 16:34:51.885',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('COSMO_CODICE_TIPO_ALLEGATO_INT_DOC_CC','allegato-comunicazione-a-seguito-di-richiesta-integrazione-o-di-integrazione-volontaria',NULL,NULL,NULL,'2024-03-26 15:19:09.277','2024-03-26 15:19:09.277',NULL,NULL),
	 ('COSMO_TIPO_PRATICA_INT_DOC','trasmissione-documenti',NULL,NULL,NULL,'2024-06-14 11:51:34.316','2024-06-14 11:51:34.316',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_INT_DOC_CC','comunicazione-a-seguito-di-richiesta-integrazione-o-di-integrazione-volontaria',NULL,NULL,NULL,'2024-03-26 15:19:09.277','2024-03-26 15:19:09.277',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_RSU_DS','relazione-struttura-ultimata',NULL,NULL,NULL,'2024-05-23 16:34:51.885','2024-05-23 16:34:51.885',NULL,NULL),
	 ('COSMO_TEMPLATE_PF_CC','{{ex_RUOLO.descrizione}}<br>
{{ex_CONTATTO.anagrafica.cognome}} {{ex_CONTATTO.anagrafica.nome}}<br>
{{ex_CONTATTO.anagrafica.pec}}<br>
',NULL,NULL,'2024-04-18 16:29:44.98271+02','2024-04-18 16:29:44.982',NULL,NULL,NULL),
	 ('COSMO_SEGNALE_INT_DOC_CC','INTEGRAZIONE_CONTROLLO',NULL,NULL,NULL,'2024-05-23 18:09:32.905','2024-05-23 18:09:32.905',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_INT_DOC','allegato-comunicazione-a-seguito-di-richiesta-integrazione-o-di-integrazione-volontaria',NULL,NULL,NULL,'2024-03-26 15:19:09.277','2024-03-26 15:19:09.277',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_RSU_DS','allegato-relazione-struttura-ultimata',NULL,NULL,NULL,'2024-05-23 16:34:51.885','2024-05-23 16:34:51.885',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_VAR_NO_SOST_DS','comunicazione-variante-non-sostanziale',NULL,NULL,NULL,'2024-06-27 12:25:10.647','2024-06-27 12:25:10.647',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_VAR_NO_SOST_DS','allegato-comunicazione-variante-non-sostanziale',NULL,NULL,NULL,'2024-06-27 12:25:10.647','2024-06-27 12:25:10.647',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_REL_ILL_DS','variazione-relazione-illustrativa',NULL,NULL,NULL,'2024-06-27 12:25:10.647','2024-06-27 12:25:10.647',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_REL_ILL_DS','allegato-variazione-relazione-illustrativa',NULL,NULL,NULL,'2024-06-27 12:25:10.647','2024-06-27 12:25:10.647',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_VAR_INTEST_DS','comunicazione-di-cambio-intestazione',NULL,NULL,NULL,'2024-06-27 12:25:10.647','2024-06-27 12:25:10.647',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_VAR_INTEST_DS','allegato-comunicazione-di-cambio-intestazione',NULL,NULL,NULL,'2024-06-27 12:25:10.647','2024-06-27 12:25:10.647',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_NOMINA_COSTR_DS','comunicazione-nomina-o-variazione-professionisti-imprese',NULL,NULL,NULL,'2024-06-27 12:25:10.647','2024-06-27 12:25:10.647',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_NOMINA_COSTR_DS','allegato-comunicazione-nomina-o-variazione-professionisti-imprese',NULL,NULL,NULL,'2024-06-27 12:25:10.647','2024-06-27 12:25:10.647',NULL,NULL),
	 ('COSMO_URL_MUDE_BO','',NULL,NULL,NULL,'2024-01-10 12:26:26.403','2024-01-10 12:26:26.403',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_FIL_DS','allegato-certificato-di-finelavori-modello-5',NULL,NULL,NULL,'2024-05-23 16:34:51.885','2024-05-23 16:34:51.885',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_INT_DOC_TD','comunicazione-a-seguito-di-richiesta-integrazione-o-di-integrazione-volontaria',NULL,NULL,NULL,'2024-03-26 15:19:09.277','2024-03-26 15:19:09.277',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_INT_DOC_TD','allegato-comunicazione-a-seguito-di-richiesta-integrazione-o-di-integrazione-volontaria',NULL,NULL,NULL,'2024-03-26 15:19:09.277','2024-03-26 15:19:09.277',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('COSMO_CODICE_TIPO_ALLEGATO_IL_DS_TD','allegato-comunicazione-a-seguito-di-richiesta-integrazione-o-di-integrazione-volontaria',NULL,NULL,NULL,'2024-07-23 09:44:47.110938','2024-07-23 09:44:47.110938',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_IL_DS_TD','comunicazione-a-seguito-di-richiesta-integrazione-o-di-integrazione-volontaria',NULL,NULL,NULL,'2024-07-23 09:44:47.110938','2024-07-23 09:44:47.110938',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_NOMINA_COLL_DS_TD','allegato-nomina-collaudatore',NULL,NULL,NULL,'2024-07-23 09:44:47.110938','2024-07-23 09:44:47.110938',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_NOMINA_COLL_DS_TD','nomina-collaudatore',NULL,NULL,NULL,'2024-07-23 09:44:47.110938','2024-07-23 09:44:47.110938',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_NOMINA_COSTR_DS_TD','allegato-comunicazione-nomina-o-variazione-professionisti-imprese',NULL,NULL,NULL,'2024-07-23 09:44:47.110938','2024-07-23 09:44:47.110938',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_NOMINA_COSTR_DS_TD','comunicazione-nomina-o-variazione-professionisti-imprese',NULL,NULL,NULL,'2024-07-23 09:44:47.110938','2024-07-23 09:44:47.110938',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_REL_ILL_DS_TD','allegato-variazione-relazione-illustrativa',NULL,NULL,NULL,'2024-07-23 09:44:47.110938','2024-07-23 09:44:47.110938',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_REL_ILL_DS_TD','variazione-relazione-illustrativa',NULL,NULL,NULL,'2024-07-23 09:44:47.110938','2024-07-23 09:44:47.110938',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_VAR_NO_SOST_DS_TD','comunicazione-variante-non-sostanziale',NULL,NULL,NULL,'2024-06-27 12:25:10.647','2024-06-27 12:25:10.647',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_DRE_DS','dichiarazione-di-regolare-esecuzione',NULL,NULL,NULL,'2024-05-23 16:34:51.885','2024-05-23 16:34:51.885',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('COSMO_MAX_TOKEN_LEASE_MS','900','',NULL,NULL,'2024-01-25 18:07:53.335','2024-01-25 18:07:53.335',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_NOMINA_COLL_DS','nomina-collaudatore',NULL,NULL,NULL,'2024-06-27 12:25:10.647','2024-06-27 12:25:10.647',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_COLLAUDO_DS','allegato-certificato-di-collaudo-statico',NULL,NULL,NULL,'2024-05-23 16:34:51.885','2024-05-23 16:34:51.885',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_NOMINA_COLL_DS','allegato-nomina-collaudatore',NULL,NULL,NULL,'2024-06-27 12:25:10.647','2024-06-27 12:25:10.647',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_INT_DOC','comunicazione-a-seguito-di-richiesta-integrazione-o-di-integrazione-volontaria',NULL,NULL,NULL,'2024-03-26 15:19:09.277','2024-03-26 15:19:09.277',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_VAR_NO_SOST_DS_TD','allegato-comunicazione-variante-non-sostanziale',NULL,NULL,NULL,'2024-06-27 12:25:10.647','2024-06-27 12:25:10.647',NULL,NULL),
	 ('API_MANAGER_TOKEN_CACHE','disabilitato',NULL,NULL,NULL,'2024-07-30 15:38:34.90254','2024-07-30 15:38:34.90254',NULL,NULL),
	 ('COSMO_RIASSUNTO_HTML_NOMINA_COLL_DS','<i>Numero pratica: </i> <strong>{{ex_PRATICA_COSMO.numeroPratica}}</strong><br><br>
<i>Codice istanza: </i><strong>{{ex_ISTANZA.codiceIstanza}}</strong><br>
<i>Comune: </i><strong>{{ex_ISTANZA.comune.descrizione}}</strong><br>
<i>Intestatario: </i><strong>{{ex_ISTANZA.intestatario.nome}}</strong><br>
<i>Cointestatari: </i><strong>{{ex_MUDE_INFO.cointestatari}}</strong><br>
<i>Procuratore: </i><strong>{{ex_MUDE_INFO.procuratore}}</strong><br>
<i>Localizzazione intervento: </i><strong>{{ex_ISTANZA.indirizzo.dug.descrizione}} {{ex_ISTANZA.indirizzo.duf}}, {{ex_ISTANZA.indirizzo.numero}}</strong><br>
<i>Oggetto intervento: </i><strong>{{ex_MUDE_INFO.titoloIntervento}}</strong><br>
<i>Descrizione sintetica dell’intervento: </i><strong>{{ex_MUDE_INFO.descrizioneIntervento}}</strong><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBO}}" target="_NEW">vai all''istanza nel back-office mudeopen</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBODetail}}" target="_NEW">vai ai dettagli dell''istanza</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBOPraticaDetail}}" target="_NEW">vai al dettaglio pratica</a><br><br>
',NULL,NULL,NULL,'2024-05-23 15:32:55.563','2024-05-23 15:32:55.563',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_DENUNCIA_SISMICA_VAR','allegato-denuncia-lavori-di-costruzione-in-zona-sismica-modello-1',NULL,NULL,NULL,'2024-08-09 09:39:59.107','2024-08-09 09:39:59.107',NULL,NULL),
	 ('COSMO_CODICE_TIPO_ALLEGATO_IST_DENUNCIA_SISMICA_VAR','denuncia-lavori-di-costruzione-in-zona-sismica-modello-1',NULL,NULL,NULL,'2024-08-09 09:39:20.461','2024-08-09 09:39:20.461',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('COSMO_TEMPLATE_PF','{{ex_RUOLO.descrizione}}<br>
{{ex_CONTATTO.anagrafica.cognome}} {{ex_CONTATTO.anagrafica.nome}}<br>
{{ex_CONTATTO.anagrafica.pec}}<br>
',NULL,NULL,'2024-04-18 16:29:44.98271+02','2024-04-18 16:29:44.982',NULL,NULL,NULL),
	 ('COSMO_TEMPLATE_PG','{{ex_RUOLO.descrizione}}<br>
{{ex_CONTATTO.anagrafica.ragioneSociale}}<br>
{{ex_CONTATTO.anagrafica.pec}}<br>
c.a {{ex_CONTATTO.anagrafica.cognomeLegaleRappresentante}} {{ex_CONTATTO.anagrafica.nomeLegaleRappresentante}}<br>
',NULL,NULL,'2024-04-18 16:29:44.98271+02','2024-04-18 16:29:44.982',NULL,NULL,NULL),
	 ('RUOLI_AUTO_ACCREDITAMENTO_DENUNCIA-SISMICA','DL: FASCIC_CONSULTATORE, FASCIC_CREATORE_IST, PM_RUP_PM_OPZ; CL: FASCIC_CONSULTATORE, FASCIC_CREATORE_IST, PM_RUP_PM_OPZ',NULL,NULL,NULL,'2024-06-12 17:53:08.686','2024-06-12 17:53:08.686',NULL,NULL),
	 ('COSMO_TEMPLATE_COMUNE','Comune di {{ex_ISTANZA_MUDE.comune.denomComune}}<br>{{ex_ISTANZA_MUDE.comune.email}}<br>',NULL,NULL,NULL,'2024-05-23 15:32:55.563','2024-05-23 15:32:55.563',NULL,NULL),
	 ('COSMO_RIASSUNTO_HTML_DENUNCIA_SISMICA_CC','<i>Numero pratica:</i> <strong>{{ex_PRATICA_COSMO.numeroPratica}}</strong><br><br>
<i>Codice istanza:</i><strong>{{ex_ISTANZA.codiceIstanza}}</strong><br>
<i>Comune:</i><strong>{{ex_ISTANZA.comune.descrizione}}</strong><br>
<i>Intestatario:</i><strong>{{ex_ISTANZA.intestatario.nome}}</strong><br>
<i>Cointestatari:</i><strong>{{ex_MUDE_INFO.cointestatari}}</strong><br>
<i>Procuratore:</i><strong>{{ex_MUDE_INFO.procuratore}}</strong><br>
<i>Localizzazione intervento:</i><strong>{{ex_ISTANZA.indirizzo.dug.descrizione}} {{ex_ISTANZA.indirizzo.duf}}, {{ex_ISTANZA.indirizzo.numero}}</strong><br>
<i>Descrizione specie pratica:</i><strong>{{ex_ISTANZA.speciePratica.descrizioneEstesa}}</strong><br>
<i>Oggetto intervento:</i><strong>{{ex_MUDE_INFO.titoloIntervento}}</strong><br>
<i>Descrizione sintetica dell’intervento:</i><strong>{{ex_MUDE_INFO.descrizioneIntervento}}</strong><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBO}}" target="_NEW">vai all''istanza nel back-office mudeopen</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBODetail}}" target="_NEW">vai ai dettagli dell''istanza</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBOPraticaDetail}}" target="_NEW">vai al dettaglio pratica</a><br><br>
','sommario da inviare a COSMO nella creazione della pratica',NULL,NULL,'2024-03-20 17:57:59.574','2024-03-20 17:57:59.574',NULL,NULL),
	 ('MUDE_MAILSENDER_USERNAME','mude-noreply@csi.it',NULL,NULL,NULL,'2024-10-25 12:12:16.626','2024-10-25 12:12:16.626',NULL,NULL),
	 ('GEECO_JSON','{
    "ApiInfo": {
        "env": "prod",
        "uuid": "TVVERV9NVURFT1BFTl9NVURFT1BFTg",
        "version": "1.0"
    },
    "StartupInfo": {
        "readonly": true,
        "zoomEnabled": true,
        "showInputFeatures": false,
        "showLabelOnFeatures": true,
        "https": true,
        "activeToolOnStartup": "acquisition"
		${extraInfo}
    },
    "EditingLayers": {
        "40": {
            "canInsertNewFeatures": true,
            "canDeleteFeatures": true,
            "defaultStyles": "",
            "schemas": [{
                    "name": "Identificativo",
                    "alias": "Identificativo",
                    "required": true,
                    "readonly": true,
                    "type": "text"
                }, {
                    "name": "Comune",
                    "required": true,
                    "readonly": true,
                    "type": "text"
                }, {
                    "name": "CODBELFIORE",
                    "required": true,
                    "readonly": true,
                    "type": "text"
                }, {
                    "name": "geom",
                    "alias": null,
                    "required": false,
                    "type": "geometry",
                    "geomType": "Polygon"
                }
            ],
            "features": {
                "type": "FeatureCollection",
                "features": [{
                        "type": "Feature",
                        "geometry": ${features.geometry},
                        "properties": {
                            "CODBELFIORE": "${codiceBelfioreComune}"
                        },
                        "id": "121"
                    }
                ]
            }
        },
        "41": {
            "canInsertNewFeatures": true,
            "canDeleteFeatures": true,
            "defaultStyles": "",
            "schemas": [{
                    "name": "Identificativo",
                    "alias": "Identificativo",
                    "required": true,
                    "readonly": true,
                    "type": "text"
                }, {
                    "name": "Istat Comune",
                    "alias": "Codice Istat",
                    "required": true,
                    "readonly": false,
                    "type": "text"
                }, {
                    "name": "Sezione",
                    "alias": null,
                    "readonly": false,
                    "required": true,
                    "type": "text"
                }, {
                    "name": "Foglio",
                    "alias": null,
                    "readonly": false,
                    "required": true,
                    "type": "text"
                }, {
                    "name": "Particella",
                    "alias": null,
                    "readonly": false,
                    "required": false,
                    "type": "text",
                    "maxLength": 10
                }, {
                    "name": "geom",
                    "alias": null,
                    "required": false,
                    "type": "geometry",
                    "geomType": "Polygon"
                }
            ]
        }
    },
    "QuitInfo": {
        "url": "${QuitInfo.url}"
    }
}
','json geeco extra torino',NULL,NULL,'2023-08-31 19:11:55.805','2023-08-31 19:11:55.805',NULL,NULL),
	 ('COSMO_SEGNALE_COLLAUDO_DS','CERTIFICATO_COLLAUDO_STATICO',NULL,NULL,NULL,'2024-07-01 15:03:31.572656','2024-07-01 15:03:31.572656',NULL,NULL),
	 ('COSMO_SEGNALE_DRE_DS','DICHIARAZIONE_REGOLARE_ESECUZIONE',NULL,NULL,NULL,'2024-07-01 15:03:31.572656','2024-07-01 15:03:31.572656',NULL,NULL),
	 ('COSMO_SEGNALE_RSU_DS','RELAZIONE_STRUTTURATA_ULTIMATA',NULL,NULL,NULL,'2024-07-01 15:03:31.572656','2024-07-01 15:03:31.572656',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('GEECO_JSON_TO','{
  "ApiInfo": {
    "env": "prod",
    "uuid": "TVVERV9NVURFT1BFTl9NVURFT1BFTlNJU01JQ0E",
    "version": "1.0"
  },
  "StartupInfo": {
    "readonly": true,
    "zoomEnabled": true,
    "showInputFeatures": true,
    "showLabelOnFeatures": true,
    "https": true
	${extraInfo}
  },
  "EditingLayers": {
    "68": {
      "canInsertNewFeatures": true,
      "canDeleteFeatures": true,
      "defaultStyles": "",
      "schemas": [
        {
          "name": "Identificativo",
          "alias": "Identificativo",
          "required": true,
          "readonly": true,
          "type": "text"
        },
        {
          "name": "Comune",
          "required": false,
          "readonly": true,
          "type": "text"
        },
        {
          "name": "CODBELFIORE",
          "required": false,
          "readonly": true,
          "type": "text"
        },
        {
          "name": "geom",
          "alias": null,
          "required": false,
          "type": "geometry",
          "geomType": "Polygon"
        }
      ],
      "features": {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "geometry": ${features.pointOrPolygon},
            "properties": {
                "CODBELFIORE": "${codiceBelfioreComune}"
            },
            "id": "121"
          }
        ]
      }
    },
    "69": {
      "canInsertNewFeatures": true,
      "canDeleteFeatures": true,
      "defaultStyles": "",
      "schemas": [
        {
          "name": "Identificativo",
          "alias": "Identificativo",
          "required": true,
          "readonly": true,
          "type": "text"
        },
        {
          "name": "Istat Comune",
          "alias": "Codice Istat",
          "required": false,
          "readonly": true,
          "type": "text"
        },
        {
          "name": "Sezione",
          "alias": null,
          "readonly": true,
          "required": false,
          "type": "text"
        },
        {
          "name": "Foglio",
          "alias": null,
          "readonly": true,
          "required": false,
          "type": "text"
        },
        {
          "name": "Particella",
          "alias": null,
          "readonly": true,
          "required": false,
          "type": "text",
          "maxLength": 10
        },
        {
          "name": "geom",
          "alias": null,
          "required": false,
          "type": "geometry",
          "geomType": "MultiPoint"
        }
      ]
    }
  },
  "QuitInfo": {
    "url": "${QuitInfo.url}"
  }
}
','json geeco torino',NULL,NULL,'2023-08-18 17:50:00.021','2023-08-18 17:50:00.092',NULL,'SPE00RP211,SPE00RP188,SPE00RP189,SPE00RP207,SPE00RP208,SPE00RP212'),
	 ('GEECO_JSON','{
  "ApiInfo": {
    "env": "prod",
    "uuid": "TVVERV9NVURFT1BFTl9NVURFT1BFTlNJU01JQ0E",
    "version": "1.0"
  },
  "StartupInfo": {
    "readonly": true,
    "zoomEnabled": true,
    "showInputFeatures": true,
    "showLabelOnFeatures": true,
    "https": true
	${extraInfo}
  },
  "EditingLayers": {
    "68": {
      "canInsertNewFeatures": true,
      "canDeleteFeatures": true,
      "defaultStyles": "",
      "schemas": [
        {
          "name": "Identificativo",
          "alias": "Identificativo",
          "required": true,
          "readonly": true,
          "type": "text"
        },
        {
          "name": "Comune",
          "required": false,
          "readonly": true,
          "type": "text"
        },
        {
          "name": "CODBELFIORE",
          "required": false,
          "readonly": true,
          "type": "text"
        },
        {
          "name": "geom",
          "alias": null,
          "required": false,
          "type": "geometry",
          "geomType": "Polygon"
        }
      ],
      "features": {
        "type": "FeatureCollection",
        "features": [
          {
            "type": "Feature",
            "geometry": ${features.pointOrPolygon},
            "properties": {
                "CODBELFIORE": "${codiceBelfioreComune}"
            },
            "id": "121"
          }
        ]
      }
    },
    "69": {
      "canInsertNewFeatures": true,
      "canDeleteFeatures": true,
      "defaultStyles": "",
      "schemas": [
        {
          "name": "Identificativo",
          "alias": "Identificativo",
          "required": true,
          "readonly": true,
          "type": "text"
        },
        {
          "name": "Istat Comune",
          "alias": "Codice Istat",
          "required": false,
          "readonly": true,
          "type": "text"
        },
        {
          "name": "Sezione",
          "alias": null,
          "readonly": true,
          "required": false,
          "type": "text"
        },
        {
          "name": "Foglio",
          "alias": null,
          "readonly": true,
          "required": false,
          "type": "text"
        },
        {
          "name": "Particella",
          "alias": null,
          "readonly": true,
          "required": false,
          "type": "text",
          "maxLength": 10
        },
        {
          "name": "geom",
          "alias": null,
          "required": false,
          "type": "geometry",
          "geomType": "MultiPoint"
        }
      ]
    }
  },
  "QuitInfo": {
    "url": "${QuitInfo.url}"
  }
}
','json geeco extra torino',NULL,NULL,'2023-08-18 17:50:00.021','2023-08-18 17:50:00.092',NULL,'SPE00RP211,SPE00RP188,SPE00RP189,SPE00RP207,SPE00RP208,SPE00RP212'),
	 ('GEECO_JSON_TO','{
    "ApiInfo": {
        "env": "prod",
        "uuid": "TVVERV9NVURFT1BFTl9NVURFT1BFTlRP",
        "version": "1.0"
    },
    "StartupInfo": {
        "readonly": true,
        "zoomEnabled": true,
        "showInputFeatures": false,
        "showLabelOnFeatures": true,
        "https": true,
        "activeToolOnStartup": "acquisition"
		${extraInfo}
    },
    "EditingLayers": {
        "50": {
            "canInsertNewFeatures": true,
            "canDeleteFeatures": true,
            "defaultStyles": "",
            "schemas": [{
                    "name": "Identificativo",
                    "alias": "Identificativo",
                    "required": true,
                    "readonly": true,
                    "type": "text"
                }, {
                    "name": "Istat Comune",
                    "alias": "Codice Istat",
                    "required": true,
                    "readonly": false,
                    "type": "text"
                }, {
                    "name": "Sezione",
                    "alias": null,
                    "readonly": false,
                    "required": true,
                    "type": "text"
                }, {
                    "name": "Foglio",
                    "alias": null,
                    "readonly": false,
                    "required": true,
                    "type": "text"
                }, {
                    "name": "Particella",
                    "alias": null,
                    "readonly": false,
                    "required": false,
                    "type": "text",
                    "maxLength": 10
                }, {
                    "name": "geom",
                    "alias": null,
                    "required": false,
                    "type": "geometry",
                    "geomType": "Polygon"
                }
            ]
        }
    },
    "QuitInfo": {
        "url": "${QuitInfo.url}"
    }
}
','json geeco extra torino',NULL,NULL,'2023-08-31 19:11:55.805','2023-08-31 19:11:55.805',NULL,NULL),
	 ('MUDE_MAILSENDER_PASSSWORD','',NULL,NULL,NULL,'2024-10-25 12:12:16.685','2024-10-25 12:12:16.685',NULL,NULL),
	 ('MUDE_MAILSENDER_PROTOCOL','smtp',NULL,NULL,NULL,'2024-10-25 12:12:16.564','2024-10-25 12:12:16.564',NULL,NULL),
	 ('MUDE_MAILSENDER_PORT','587',NULL,NULL,NULL,'2024-10-25 12:12:16.505','2024-10-25 12:12:16.505',NULL,NULL),
	 ('MUDE_MAILSENDER_HOST','',NULL,NULL,NULL,'2024-10-25 12:11:53.154','2024-10-25 12:11:53.154',NULL,NULL),
	 ('SIGMATER_CONSUMER_KEY','',NULL,NULL,NULL,'2024-10-11 20:08:24.544','2024-10-11 20:08:24.544',NULL,NULL),
	 ('SIGMATER_CONSUMER_SECRET','',NULL,NULL,NULL,'2024-10-11 20:08:24.612','2024-10-11 20:08:24.612',NULL,NULL),
	 ('SIGMATER_APIMANAGER_ENDPOINT_SigalfsrvGenerali','',NULL,NULL,NULL,'2024-10-11 20:08:24.682','2024-10-11 20:08:24.682',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('SIGMATER_APIMANAGER_ENDPOINT_SigalfsrvTerreni','',NULL,NULL,NULL,'2024-10-11 20:08:24.819','2024-10-11 20:08:24.819',NULL,NULL),
	 ('SIGMATER_APIMANAGER_ENDPOINT_SigalfsrvUiu','',NULL,NULL,NULL,'2024-10-11 20:08:24.739','2024-10-11 20:08:24.739',NULL,NULL),
	 ('SVISTA_URL_WSDL','','url servizio svista',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('OLD_SVISTA_CONSUMER_SECRET','','url servizio svista',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('OLD_SVISTA_URL_POLIGONI','','url servizio svista per recuperare il poligono in base al comune',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('COSMO_TD_LISTA_ALLEGATI_PER','INT-DOC, VAR-NO-SOST-DS, REL-ILL-DS',NULL,NULL,NULL,'2024-10-18 13:00:32.826','2024-10-18 13:00:32.826',NULL,NULL),
	 ('OLD_GEECO_CONSUMER_SECRET','','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('GEECO_URL_TOKEN','','',NULL,NULL,'2024-11-21 14:55:46.802494','2024-11-21 14:55:46.802494',NULL,NULL),
	 ('GEECO_URL','','URL config',NULL,NULL,'2024-11-21 14:56:40.321398','2024-11-21 14:56:40.321398',NULL,NULL),
	 ('GEECO_CUSTOMER_KEY','','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('GEECO_CONSUMER_SECRET','','',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('BO_EXTRA_COLUMNS_FROM_FO_DENUNCIA-SISMICA','SELECT * FROM (
    SELECT 
            ''Gestione lavori denuncia'' AS "TB1", 
                protocolli.data_effettiva_inizio_lavori AS "TB1-01:data inizio lavori effettiva", 
                null AS "TB1-02:VOID",  
                null AS "TB1-03:VOID", 
                TO_CHAR(protocolli.data_prot_inizio_lavori, ''DD/MM/YYYY'') AS "TB1-04:Data comunicazione inizio lavori", 
                protocolli.protocollo_inizio_lavori AS "TB1-05:Num protocollo comunicazione inizio lavori", 
                null AS "TB1-06:VOID", 
                protocolli.data_effettiva_fine_lavori AS "TB1-07:Data fine lavori effettiva", 
                null AS "TB1-08:VOID",  
                null AS "TB1-09:VOID", 
                TO_CHAR(protocolli.data_prot_fine_lavori, ''DD/MM/YYYY'') AS "TB1-10:Data comunicazione fine lavori", 
                protocolli.num_prot_fine_lavori AS "TB1-11:Num protocollo comunicazione fine lavori", 
                null AS "TB1-12:VOID", 
                TO_CHAR(protocolli.data_prot_nomina_coll, ''DD/MM/YYYY'') AS "TB1-13:Data comunicazione nomina collaudatore",
                protocolli.protocollo_nomina_coll AS "TB1-14:Num protocollo nomina collaudatore",
                null AS "TB1-15:VOID", 
                TO_CHAR(protocolli.data_prot_collaudo, ''DD/MM/YYYY'') AS "TB1-19:Data comunicazione collaudo",
                protocolli.protocollo_collaudo AS "TB1-20:Num protocollo collaudo",
                null AS "TB1-21:VOID", 
                TO_CHAR(protocolli.data_prot_RSU, ''DD/MM/YYYY'') AS "TB1-16:Data comunicazione RSU",
                protocolli.protocollo_RSU AS "TB1-17:Num protocollo comunicazione RSU",
                null AS "TB1-18:VOID", 
                TO_CHAR(protocolli.data_prot_DRE, ''DD/MM/YYYY'') AS "TB1-22:Data comunicazione DRE",
                protocolli.protocollo_DRE AS "TB1-23:Num protocollo comunicazione DRE",
                null AS "TB1-24:VOID", 
                TO_CHAR(mti.data_dps, ''DD/MM/YYYY'') AS "TB1-25:Data compilazione pratica",
                null AS "TB1-26:VOID", 
                null AS "TB1-27:VOID", 
                mti.json_data->''TAB_QUALIF_4''->>''descrizione_intervento'' AS "TB1-28:Note",
            ''Ubicazione'' AS "TB2", 
                sedime || '' '' || desc_via AS "TB2-01:Indirizzo",
                num_civico AS "TB2-02:n° civico",
                cap AS "TB2-03:CAP",
                com.denom_comune AS "TB2-04:Comune",
                :IDISTANZA as id_istanza,
            ''Soggetti'' as "TB3",
                soggetti.soggetto AS "TB3-01:Lista soggetti denuncia",
            ''Assegnatari'' as "TB4",
                assegnatari.assegnatario AS "TB4-01:Lista assegnatari"
        FROM mudeopen_t_istanza mti
            LEFT JOIN (
                select :IDISTANZA as id_istanza, 
                        max(prot_nomina_collaudatore) as protocollo_nomina_coll, max(data_prot_nomina_collaudatore) as data_prot_nomina_coll, 
                        max(prot_fine_lavori) as num_prot_fine_lavori, max(data_prot_fine_lavori)as data_prot_fine_lavori, max(data_effettiva_fine_lavori) as data_effettiva_fine_lavori,
                        max(prot_collaudo) as protocollo_collaudo, max(data_prot_collaudo)as data_prot_collaudo,
                        max(prot_DRE)as protocollo_DRE, max(data_prot_DRE)as data_prot_DRE,
                        max(num_prot_RSU) as protocollo_RSU,max(data_prot_RSU) as data_prot_RSU,
                        max(num_prot_inizio_lavori) as protocollo_inizio_lavori , max(data_prot_inizio_lavori) as data_prot_inizio_lavori, max(data_effettiva_inizio_lavori) as data_effettiva_inizio_lavori
                from (
                    SELECT  
                        case 
                            when ist.id_tipo_istanza = ''NOMINA-COLL-DS'' then ist.numero_protocollo
                        end prot_nomina_collaudatore,
                        case 
                            when ist.id_tipo_istanza = ''NOMINA-COLL-DS'' then ist.data_protocollo
                        end data_prot_nomina_collaudatore,
                        case 
                            when ist.id_tipo_istanza = ''FIL-DS'' then ist.numero_protocollo
                        end prot_fine_lavori,
                        case 
                            when ist.id_tipo_istanza = ''FIL-DS'' then ist.data_protocollo
                        end data_prot_fine_lavori,
                        case 
                            when ist.id_tipo_istanza = ''FIL-DS'' then ist.json_data->''TAB_CERT''->>''data_lavori_ultimati''
                        end data_effettiva_fine_lavori,
                        case 
                            when ist.id_tipo_istanza = ''COLLAUDO-DS'' then ist.numero_protocollo
                        end prot_collaudo,
                        case 
                            when ist.id_tipo_istanza = ''COLLAUDO-DS'' then ist.data_protocollo
                        end data_prot_collaudo,
                        case 
                            when ist.id_tipo_istanza = ''DRE-DS'' then ist.numero_protocollo
                        end prot_DRE,
                        case 
                            when ist.id_tipo_istanza = ''DRE-DS'' then ist.data_protocollo
                        end data_prot_DRE,
                        case 
                            when ist.id_tipo_istanza = ''RSU-DS'' then ist.data_protocollo
                        end num_prot_RSU,
                        case 
                            when ist.id_tipo_istanza = ''RSU-DS'' then ist.data_protocollo
                        end data_prot_RSU,
                        case 
                            when ist.id_tipo_istanza = ''IL-DS'' then ist.data_protocollo
                        end num_prot_inizio_lavori,
                        case 
                            when ist.id_tipo_istanza = ''IL-DS'' then ist.data_protocollo
                        end data_prot_inizio_lavori,
                        case 
                            when ist.id_tipo_istanza = ''IL-DS'' then ist.json_data->''TAB_CERT_AU''->>''inData''
                        end data_effettiva_inizio_lavori
                        
                    FROM mudeopen_r_istanza_pratica mip
                        inner join mudeopen_t_istanza ist on ist.id_istanza = mip.id_istanza 
                    WHERE  id_pratica in (select pra.id_pratica from mudeopen_t_pratica pra
                        INNER JOIN  mudeopen_r_istanza_pratica ip on ip.id_pratica = pra.id_pratica where ip.id_istanza = :IDISTANZA)  
                ) pivot
            ) protocolli ON protocolli.id_istanza = mti.id_istanza
            LEFT join  mudeopen_r_loc_ubicazione mrlu on mrlu.id_istanza = mti.id_istanza and f1_personalizzato_dettaglio = ''principale'' 
            LEFT JOIN mudeopen_d_comune com on com.id_comune = mti.id_comune
            LEFT JOIN (
                select lista_flat_soggetti.id_istanza, CONCAT(array_to_string(array_agg( distinct CONCAT(descr, '' <div class="ml-3">'', ruoli, ''</div>'' )), ''<br>'')) as soggetto
                    from (
                        SELECT id_istanza, UPPER(CONCAT(''<b>'', nome, '' '', cognome, '' '', ragione_sociale, ''</b> '' )) as descr, array_to_string(array_agg(DISTINCT mdrs.descrizione), ''<br>'') as ruoli FROM 
                            mudeopen_r_istanza_soggetto mris
                                inner join mudeopen_r_istanza_soggetto_ruoli mrisr ON mrisr.id_istanza_soggetto= mris.id_istanza_soggetto
                                inner join mudeopen_d_ruolo_soggetto mdrs ON mrisr.ruoli= mdrs.codice
                                inner join mudeopen_t_contatto mtc ON mtc.id_contatto=mris.id_soggetto 
                        GROUP BY id_istanza, CONCAT(''<b>'', nome, '' '', cognome, '' '', ragione_sociale, ''</b> '' )
                    ) lista_flat_soggetti
                    group by lista_flat_soggetti.id_istanza            
            ) soggetti ON soggetti.id_istanza=mti.id_istanza
            LEFT JOIN (
                select lista_flat_assegnatari.id_istanza, CONCAT(array_to_string(array_agg( distinct CONCAT(descr, '' <div class="ml-3">'', ruoli, ''</div>'' )), ''<br>'')) as assegnatario
                    from (
                        SELECT id_istanza, UPPER(CONCAT(''<b>'', mtu.nome, '' '', mtu.cognome, ''</b> '')) as descr, array_to_string(array_agg(DISTINCT mdru.descrizione), ''<br>'') as ruoli FROM
                            (SELECT obj->>''userId'' as cf, id_istanza FROM mudeopen_t_pratica_cosmo mtpc 
                                    , jsonb_array_elements(mtpc.json_assegnatari->''users'') with ordinality users(obj, position)) users
                            INNER JOIN mudeopen_t_user mtu ON mtu.cf=users.cf
                            INNER JOIN mudeopen_r_utente_ente_comune_ruolo AS mruecr ON mruecr.id_utente=mtu.id_user
                            INNER JOIN mudeopen_d_ruolo_utente AS mdru ON mruecr.cod_ruolo=mdru.codice
                        GROUP BY id_istanza, CONCAT(''<b>'', mtu.nome, '' '', mtu.cognome, ''</b> '' )
                    ) lista_flat_assegnatari
                    group by lista_flat_assegnatari.id_istanza            
            ) assegnatari ON assegnatari.id_istanza=mti.id_istanza
        where 1=1
            AND mti.id_fonte = ''FO''
            AND mti.id_istanza = :IDISTANZA
) tblistanza     
',NULL,NULL,NULL,'2024-12-05 14:19:10.477','2024-12-05 14:19:10.477',NULL,NULL),
	 ('COSMO_ALLOWED_SCHEDULER_HOST','','hostname che deve inviare mail',NULL,NULL,'2023-08-18 17:50:00.021','2023-08-18 17:50:00.092',NULL,NULL),
	 ('OLD_SVISTA_URLTOKEN','','url servizio svista',NULL,NULL,'2023-08-31 19:11:55.805659','2023-08-31 19:11:55.805659',NULL,NULL),
	 ('COSMO_RIASSUNTO_HTML_VAR_NO_SOST_DS','<i>Numero pratica: </i> <strong>{{ex_PRATICA_COSMO.numeroPratica}}</strong><br><br>
<i>Codice istanza: </i><strong>{{ex_ISTANZA.codiceIstanza}}</strong><br>
<i>Comune: </i><strong>{{ex_ISTANZA.comune.descrizione}}</strong><br>
<i>Intestatario: </i><strong>{{ex_ISTANZA.intestatario.nome}}</strong><br>
<i>Cointestatari: </i><strong>{{ex_MUDE_INFO.cointestatari}}</strong><br>
<i>Procuratore: </i><strong>{{ex_MUDE_INFO.procuratore}}</strong><br>
<i>Localizzazione intervento: </i><strong>{{ex_ISTANZA.indirizzo.dug.descrizione}} {{ex_ISTANZA.indirizzo.duf}}, {{ex_ISTANZA.indirizzo.numero}}</strong><br>
<i>Oggetto intervento: </i><strong>{{ex_MUDE_INFO.titoloIntervento}}</strong><br>
<i>Descrizione sintetica dell’intervento: </i><strong>{{ex_MUDE_INFO.descrizioneIntervento}}</strong><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBO}}" target="_NEW">vai all''istanza nel back-office mudeopen</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBODetail}}" target="_NEW">vai ai dettagli dell''istanza</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBOPraticaDetail}}" target="_NEW">vai al dettaglio pratica</a><br><br>
',NULL,NULL,NULL,'2024-05-23 15:32:55.563','2024-05-23 15:32:55.563',NULL,NULL),
	 ('BO_DS_FILTRA_VARIANTI','abilitato',NULL,NULL,NULL,'2024-09-10 14:09:43.875','2024-09-10 14:09:43.875',NULL,NULL),
	 ('GEECO_JSON_EXTRA_PARAMS',', "authCommunity": "spid-gasprp-regione", "authLevel": "liv2"','set ${extraInfo} in json','FO',NULL,'2024-07-26 15:24:33.831','2024-07-26 15:24:33.831',NULL,NULL),
	 ('COSMO_UPLOAD_DELAY_SECONDS','1','delay per invio pratiche a COSMO',NULL,NULL,'2024-12-04 09:15:29.074143','2024-12-04 09:15:29.074143',NULL,NULL),
	 ('SIGMATER_TRACE','abilitato',NULL,NULL,NULL,'2024-12-09 10:01:29.407917','2024-12-09 10:01:29.407917',NULL,NULL),
	 ('COSMO_EXCLUDE_ACC_TIPO_ISTANZE','FIL-DS','esclude le istanze da segnalare per ACC',NULL,NULL,'2025-01-23 11:20:25.86277','2025-01-23 11:20:25.86277',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('COSMO_AUTH_METHOD','TOKEN',NULL,NULL,NULL,'2025-02-03 14:13:40.28865','2025-02-03 14:13:40.28865',NULL,NULL),
	 ('TOPONOMASTICA_CALL_TRACE','enabled',NULL,NULL,NULL,'2025-02-26 16:57:12.313463','2025-02-26 16:57:12.313463',NULL,NULL),
	 ('RETAIN-TEMPLATE-VERSION-PDC','si',NULL,'FO',NULL,'2023-10-11 17:46:07.005','2023-10-11 17:46:07.005',NULL,NULL),
	 ('RETAIN-TEMPLATE-VERSION-SCIA','si',NULL,'FO',NULL,'2023-10-11 17:46:07.005','2023-10-11 17:46:07.005',NULL,NULL),
	 ('RETAIN-TEMPLATE-VERSION-SCIA-ALT-PDC','si',NULL,'FO',NULL,'2023-10-11 17:46:07.005','2023-10-11 17:46:07.005',NULL,NULL),
	 ('RETAIN-TEMPLATE-VERSION-CILA','si',NULL,'FO',NULL,'2023-10-11 17:46:07.005','2023-10-11 17:46:07.005',NULL,NULL),
	 ('OLD_BO_EXTRA_COLUMNS_DENUNCIA-SISMICA_OLD_OLD','SELECT * FROM (
    SELECT 
            ''Gestione lavori denuncia'' AS "TB1", 
                COALESCE (mta.data_effettiva_inizio_lavori, TO_CHAR(prae.datainiziolavorieffettiva, ''DD/MM/YYYY''), protocolliFO.data_effettiva_inizio_lavori, '''') AS "TB1-01:data inizio lavori effettiva",
                null AS "TB1-02:VOID",  
                null AS "TB1-03:VOID", 
                COALESCE (mta.data_prot_inizio_lavori, TO_CHAR(prae.dataprotcominilav, ''DD/MM/YYYY''), TO_CHAR(protocolliFO.data_prot_inizio_lavori ,''DD/MM/YYYY hh.mm.ss''),'''') AS "TB1-04:Data comunicazione inizio lavori", 
                COALESCE(mta.num_prot_inizio_lavori, prae.numprotcominilav, protocolliFO.num_prot_inizio_lavori,'''') AS "TB1-05:Num protocollo comunicazione inizio lavori", 
                null AS "TB1-06:VOID", 
                COALESCE (mta.data_effettiva_fine_lavori, TO_CHAR(prae.datafinelavorieffettiva, ''DD/MM/YYYY''),protocolliFO.data_effettiva_fine_lavori,'''') AS "TB1-07:Data fine lavori effettiva", 
                null AS "TB1-08:VOID",  
                null AS "TB1-09:VOID", 
                COALESCE (mta.data_prot_fine_lavori, TO_CHAR(prae.dataprotcomfinlav, ''DD/MM/YYYY''),TO_CHAR(protocolliFO.data_prot_fine_lavori,''DD/MM/YYYY hh.mm.ss''),'''') AS "TB1-10:Data comunicazione fine lavori", 
                COALESCE (mta.num_prot_fine_lavori, prae.numprotcomfinlav,protocolliFO.num_prot_fine_lavori,'''') AS "TB1-11:Num protocollo comunicazione fine lavori", 
                null AS "TB1-12:VOID", 
                COALESCE(mta.data_prot_nomina_coll, TO_CHAR(prae.dataprotnominacoll, ''DD/MM/YYYY''),TO_CHAR(protocolliFO.data_prot_nomina_coll,''DD/MM/YYYY hh.mm.ss''),'''') AS "TB1-13:Data comunicazione nomina collaudatore",
                COALESCE(mta.protocollo_nomina_coll, prae.numprotnominacoll, protocolliFO.protocollo_nomina_coll ,'''') AS "TB1-14:Num protocollo nomina collaudatore",
                null AS "TB1-15:VOID", 
                COALESCE(mta.dataprotcertificato, TO_CHAR(prae.dataprotcertificato, ''DD/MM/YYYY'')) AS "TB1-16:Data presentazione certificato",
                COALESCE(mta.numprotcertificato, prae.numprotcertificato) AS "TB1-17:Num protocollo certificato",
                null AS "TB1-18:VOID", 
                COALESCE(mta.data_prot_collaudo, TO_CHAR(prae.dataprotcomc94, ''DD/MM/YYYY''),TO_CHAR(protocolliFO.data_prot_collaudo,''DD/MM/YYYY hh.mm.ss''),'''') AS "TB1-19:Data comunicazione collaudo",
                COALESCE(mta.protocollo_collaudo, prae.numprotcomc94, protocollifo.protocollo_collaudo ,'''') AS "TB1-20:Num protocollo collaudo",
                null AS "TB1-21:VOID", 
                COALESCE (mta.data_prot_DRE, TO_CHAR(prae.dataprotcomdre, ''DD/MM/YYYY''),TO_CHAR(protocolliFO.data_prot_DRE,''DD/MM/YYYY hh.mm.ss''),'''') AS "TB1-22:Data comunicazione DRE",
                COALESCE(mta.protocollo_DRE, prae.numprotcomDRE,protocolliFO.protocollo_DRE,'''' ) AS "TB1-23:Num protocollo comunicazione DRE",
                null AS "TB1-24:VOID", 
                COALESCE (mta.data_prot_RSU, TO_CHAR(protocolliFO.data_prot_RSU,''DD/MM/YYYY hh.mm.ss''),'''') AS "TB1-25:Data comunicazione RSU",
                COALESCE(mta.protocollo_RSU, prae.numprotcomDRE,protocolliFO.protocollo_RSU,'''' ) AS "TB1-26:Num protocollo comunicazione RSU",
                null AS "TB1-27:VOID", 
	            COALESCE(mta.datacompilazione, TO_CHAR(prae.datacompilazione, ''DD/MM/YYYY'')) AS "TB1-28:Data compilazione pratica",
                null AS "TB1-29:VOID", 
                null AS "TB1-30:VOID", 
                COALESCE(mta.notesism, prae.notesism) AS "TB1-31:Note",
            ''Ubicazione'' AS "TB2", 
                dug.denominazione || '' '' ||ind.indirizzo AS "TB2-01:Indirizzo",
                ind.numero_civico AS "TB2-02:n° civico",
                ind.cap AS "TB2-03:CAP",
                com.denom_comune AS "TB2-04:Comune",
                mti.id_istanza,
            ''Soggetti'' as "TB3",
                soggetti.soggetto AS "TB3-01:Lista soggetti denuncia"
        FROM predsism prae
            INNER JOIN mudeopen_d_comune mdc on mdc.cod_istat_comune =  prae.idcomune 
            INNER JOIN mudeopen_t_istanza mti ON mti.numero_protocollo = REGEXP_REPLACE(prae.numprotocollo, ''[0-9]+[/]{0,1}([0-9]+)'', ''\1'', ''g'')
                            AND prae.numprotocollo IS NOT NULL 
                            AND date_part(''year'', mti.data_protocollo)::varchar = REGEXP_REPLACE(prae.numprotocollo, ''([0-9]+)[/][0-9]+'', ''\1'', ''g'')
            left JOIN mudeopen_t_aeos mta ON mti.id_istanza=mta.id_istanza
            left  join mudeopen_t_indirizzo ind on mti.id_indirizzo = ind.id_indirizzo
            left join mudeopen_d_dug dug on dug.id_dug = ind.id_dug 
            left  join mudeopen_d_comune com on com.id_comune = mti.id_comune
            left join (
                select lista_flat_soggetti.id_istanza, CONCAT(array_to_string(array_agg(CONCAT(descr, '' <div class="ml-3">'', ruoli, ''</div>'' )), ''<br>'')) as soggetto
                    from (
                        SELECT ist.id_istanza, UPPER(a.intestazione) as descr, array_to_string(array_agg( distinct CONCAT(tp.tipologia)), ''<br>'') as ruoli FROM 
                                    mudeopen_t_pratica pr
                                    inner join mudeopen_r_istanza_pratica pra on pra.id_pratica = pr.id_pratica 
                                    inner join mudeopen_t_istanza ist on pra.id_istanza = ist.id_istanza 
									inner join arcaeos.predpratica p on date_part(''year'',ist.data_protocollo) || ''/'' || ist.numero_protocollo  = p.numprotocollo
                                    join arcaeos.syssoggetticoinvolti s on p.guid= s.guid
                                    join arcaeos.syssoggetticoinvoltitipologia ss on  (ss.guid  = s.guid and s.idpersona = ss.idpersona  )
                                    join arcaeos.systabsoggetticoinvoltitipologia tp on tp.idtipologia = ss.idtipologia 
                                    join arcaeos.anaperpersona a on a.idpersona = s.idpersona 
                            GROUP BY ist.id_istanza, a.intestazione
                    ) lista_flat_soggetti
                    group by lista_flat_soggetti.id_istanza            
            ) soggetti ON soggetti.id_istanza=mti.id_istanza
            LEFT JOIN (
                select :IDISTANZA as id_istanza, 
                        max(prot_nomina_collaudatore) as protocollo_nomina_coll, 
                        max(data_prot_nomina_collaudatore) as data_prot_nomina_coll, 
                        max(prot_fine_lavori) as num_prot_fine_lavori, 
                        max(data_prot_fine_lavori)as data_prot_fine_lavori, 
                        max(data_effettiva_fine_lavori) as data_effettiva_fine_lavori,
                        max(prot_collaudo) as protocollo_collaudo, 
                        max(data_prot_collaudo)as data_prot_collaudo,
                        max(prot_DRE)as protocollo_DRE, 
                        max(data_prot_DRE)as data_prot_DRE,
                        max(num_prot_RSU) as protocollo_RSU,
                        max(data_prot_RSU) as data_prot_RSU,
                        max(num_prot_inizio_lavori) as num_prot_inizio_lavori, 
                        max(data_prot_inizio_lavori) as data_prot_inizio_lavori, 
                        max(data_effettiva_inizio_lavori) as data_effettiva_inizio_lavori
                from (
                    SELECT  
                        case 
                            when ist.id_tipo_istanza = ''NOMINA-COLL-DS'' then ist.numero_protocollo
                        end prot_nomina_collaudatore,
                        case 
                            when ist.id_tipo_istanza = ''NOMINA-COLL-DS'' then ist.data_protocollo
                        end data_prot_nomina_collaudatore,
                        case 
                            when ist.id_tipo_istanza = ''FIL-DS'' then ist.numero_protocollo
                        end prot_fine_lavori,
                        case 
                            when ist.id_tipo_istanza = ''FIL-DS'' then ist.data_protocollo
                        end data_prot_fine_lavori,
                        case 
                            when ist.id_tipo_istanza = ''FIL-DS'' then ist.json_data->''TAB_CERT''->>''data_lavori_ultimati''
                        end data_effettiva_fine_lavori,
                        case 
                            when ist.id_tipo_istanza = ''COLLAUDO-DS'' then ist.numero_protocollo
                        end prot_collaudo,
                        case 
                            when ist.id_tipo_istanza = ''COLLAUDO-DS'' then ist.data_protocollo
                        end data_prot_collaudo,
                        case 
                            when ist.id_tipo_istanza = ''DRE-DS'' then ist.numero_protocollo
                        end prot_DRE,
                        case 
                            when ist.id_tipo_istanza = ''DRE-DS'' then ist.data_protocollo
                        end data_prot_DRE,
                        case 
                            when ist.id_tipo_istanza = ''RSU-DS'' then ist.numero_protocollo
                        end num_prot_RSU,
                        case 
                            when ist.id_tipo_istanza = ''RSU-DS'' then ist.data_protocollo
                        end data_prot_RSU,
                        case 
                            when ist.id_tipo_istanza = ''IL-DS'' then ist.numero_protocollo
                        end num_prot_inizio_lavori,
                        case 
                            when ist.id_tipo_istanza = ''IL-DS'' then ist.data_protocollo
                        end data_prot_inizio_lavori,
                        case 
                            when ist.id_tipo_istanza = ''IL-DS'' then ist.json_data->''TAB_CERT_AU''->>''inData''
                        end data_effettiva_inizio_lavori
                    FROM mudeopen_r_istanza_pratica mip
                        inner join mudeopen_t_istanza ist on ist.id_istanza = mip.id_istanza 
                    WHERE  id_pratica in (select pra.id_pratica from mudeopen_t_pratica pra
                        INNER JOIN  mudeopen_r_istanza_pratica ip on ip.id_pratica = pra.id_pratica where ip.id_istanza = :IDISTANZA)  
                ) pivot
            ) protocolliFO ON protocolliFO.id_istanza = mti.id_istanza	         
        where 1=1
            and mdc.fine_validita is null
            AND mti.loguser like ''%AEOS%''
    ) tblistanza     ',NULL,NULL,NULL,'2024-07-05 16:16:31.931','2024-07-05 16:16:31.931',NULL,NULL),
	 ('OLD_BO_EXTRA_COLUMNS_DENUNCIA-SISMICA_OLD',' SELECT * FROM (
    SELECT 
            ''Gestione lavori denuncia'' AS "TB1", 
                COALESCE (mta.data_effettiva_inizio_lavori, TO_CHAR(prae.datainiziolavorieffettiva, ''DD/MM/YYYY''), protocolliFO.data_effettiva_inizio_lavori, '''') AS "TB1-01:data inizio lavori effettiva",
                null AS "TB1-02:VOID",  
                null AS "TB1-03:VOID", 
                COALESCE (mta.data_prot_inizio_lavori, TO_CHAR(prae.dataprotcominilav, ''DD/MM/YYYY''), TO_CHAR(protocolliFO.data_prot_inizio_lavori ,''DD/MM/YYYY hh.mm.ss''),'''') AS "TB1-04:Data comunicazione inizio lavori", 
                COALESCE(mta.num_prot_inizio_lavori, prae.numprotcominilav, protocolliFO.num_prot_inizio_lavori,'''') AS "TB1-05:Num protocollo comunicazione inizio lavori", 
                null AS "TB1-06:VOID", 
                COALESCE (mta.data_effettiva_fine_lavori, TO_CHAR(prae.datafinelavorieffettiva, ''DD/MM/YYYY''),protocolliFO.data_effettiva_fine_lavori,'''') AS "TB1-07:Data fine lavori effettiva", 
                null AS "TB1-08:VOID",  
                null AS "TB1-09:VOID", 
                COALESCE (mta.data_prot_fine_lavori, TO_CHAR(prae.dataprotcomfinlav, ''DD/MM/YYYY''),TO_CHAR(protocolliFO.data_prot_fine_lavori,''DD/MM/YYYY hh.mm.ss''),'''') AS "TB1-10:Data comunicazione fine lavori", 
                COALESCE (mta.num_prot_fine_lavori, prae.numprotcomfinlav,protocolliFO.num_prot_fine_lavori,'''') AS "TB1-11:Num protocollo comunicazione fine lavori", 
                null AS "TB1-12:VOID", 
                COALESCE(mta.data_prot_nomina_coll, TO_CHAR(prae.dataprotnominacoll, ''DD/MM/YYYY''),TO_CHAR(protocolliFO.data_prot_nomina_coll,''DD/MM/YYYY hh.mm.ss''),'''') AS "TB1-13:Data comunicazione nomina collaudatore",
                COALESCE(mta.protocollo_nomina_coll, prae.numprotnominacoll, protocolliFO.protocollo_nomina_coll ,'''') AS "TB1-14:Num protocollo nomina collaudatore",
                null AS "TB1-15:VOID", 
                COALESCE(mta.dataprotcertificato, TO_CHAR(prae.dataprotcertificato, ''DD/MM/YYYY'')) AS "TB1-16:Data presentazione certificato",
                COALESCE(mta.numprotcertificato, prae.numprotcertificato) AS "TB1-17:Num protocollo certificato",
                null AS "TB1-18:VOID", 
                COALESCE(mta.data_prot_collaudo, TO_CHAR(prae.dataprotcomc94, ''DD/MM/YYYY''),TO_CHAR(protocolliFO.data_prot_collaudo,''DD/MM/YYYY hh.mm.ss''),'''') AS "TB1-19:Data comunicazione collaudo",
                COALESCE(mta.protocollo_collaudo, prae.numprotcomc94, protocollifo.protocollo_collaudo ,'''') AS "TB1-20:Num protocollo collaudo",
                null AS "TB1-21:VOID", 
                COALESCE (mta.data_prot_DRE, TO_CHAR(prae.dataprotcomdre, ''DD/MM/YYYY''),TO_CHAR(protocolliFO.data_prot_DRE,''DD/MM/YYYY hh.mm.ss''),'''') AS "TB1-22:Data comunicazione DRE",
                COALESCE(mta.protocollo_DRE, prae.numprotcomDRE,protocolliFO.protocollo_DRE,'''' ) AS "TB1-23:Num protocollo comunicazione DRE",
                null AS "TB1-24:VOID", 
                COALESCE (mta.data_prot_RSU, TO_CHAR(protocolliFO.data_prot_RSU,''DD/MM/YYYY hh.mm.ss''),'''') AS "TB1-25:Data comunicazione RSU",
                COALESCE(mta.protocollo_RSU, prae.numprotcomDRE,protocolliFO.protocollo_RSU,'''' ) AS "TB1-26:Num protocollo comunicazione RSU",
                null AS "TB1-27:VOID", 
	            COALESCE(mta.datacompilazione, TO_CHAR(prae.datacompilazione, ''DD/MM/YYYY'')) AS "TB1-28:Data compilazione pratica",
                null AS "TB1-29:VOID", 
                null AS "TB1-30:VOID", 
                prae.titabitipo AS "TB1-31:Tipologia titolo abilitativo",
                prae.titabinumero AS "TB1-32:Numero titolo abilitativo",
                prae.titabidata AS "TB1-33:Data titolo abilitativo",
                COALESCE(mta.notesism, prae.notesism) AS "TB1-34:Note",
            ''Ubicazione'' AS "TB2", 
                coalesce(dug.denominazione || '' '' ||ind.indirizzo, aind.toponimo|| '' '' || aind.indirizzo, '''' ) AS "TB2-01:Indirizzo",
                coalesce(ind.numero_civico,t.numciv ) AS "TB2-02:n° civico",
                ind.cap AS "TB2-03:CAP",
                com.denom_comune AS "TB2-04:Comune",
                catasti.catasto as "TB2-05:Dati catastali",
                mti.id_istanza,
            ''Soggetti'' as "TB3",
                soggetti.soggetto AS "TB3-01:Lista soggetti denuncia"
        FROM arcaeos.predsism prae
            INNER JOIN mudeopen_d_comune mdc on mdc.cod_istat_comune =  prae.idcomune 
            INNER JOIN mudeopen_t_istanza mti ON mti.numero_protocollo = REGEXP_REPLACE(prae.numprotocollo, ''[0-9]+[/]{0,1}([0-9]+)'', ''\1'', ''g'')
                            AND prae.numprotocollo IS NOT NULL 
                            AND date_part(''year'', mti.data_protocollo)::varchar = REGEXP_REPLACE(prae.numprotocollo, ''([0-9]+)[/][0-9]+'', ''\1'', ''g'')
            left JOIN mudeopen_t_aeos mta ON mti.id_istanza=mta.id_istanza
            left join mudeopen_t_indirizzo ind on mti.id_indirizzo = ind.id_indirizzo
            left join mudeopen_d_dug dug on dug.id_dug = ind.id_dug 
            left join mudeopen_d_comune com on com.id_comune = mti.id_comune
            left join arcaeos.predpraticaubicazione ubic on mti.numero_protocollo = REGEXP_REPLACE(ubic.numprotocollo, ''[0-9]+[/]{0,1}([0-9]+)'', ''\1'', ''g'')
                            AND ubic.numprotocollo IS NOT NULL 
                            AND date_part(''year'', mti.data_protocollo)::varchar = REGEXP_REPLACE(ubic.numprotocollo, ''([0-9]+)[/][0-9]+'', ''\1'', ''g'')
			left join arcaeos.toptabindirizzo aind on aind.idindirizzo = ubic.idindirizzo and aind.idzona = com.cod_istat_comune                           
			left join arcaeos.toptabnumciv t on t.idnumciv = ubic.idnumciv  and  aind.idindirizzo = t.idindirizzo and com.cod_istat_comune  = t.idzona
			left join (
					select lista_flat_catasto.id_istanza,  CONCAT(array_to_string(array_agg(CONCAT('' <div class="ml-3">'', daticatasto, ''</div>'' )), ''<br>'')) as catasto
					from (
					SELECT ist.id_istanza, 
					array_to_string(array_agg( distinct CONCAT(''Tipo catasto '' || pcat.idtipocatasto) || '' /  Foglio '' || pcat.foglio || '' /  Numero '' || pcat.Numero || '' / Subalterno '' || pcat.subalterno)  , ''<br>'') as daticatasto FROM 
                                    mudeopen_t_pratica pr
                                    inner join mudeopen_r_istanza_pratica pra on pra.id_pratica = pr.id_pratica 
                                    inner join mudeopen_t_istanza ist on pra.id_istanza = ist.id_istanza 
									inner join arcaeos.predpratica p on date_part(''year'',ist.data_protocollo) || ''/'' || ist.numero_protocollo  = p.numprotocollo
                                    inner join arcaeos.predpraticacatasto pcat on pcat.numprotocollo = p.numprotocollo and pcat.idcomune = p.idcomune
                            GROUP BY ist.id_istanza
					)lista_flat_catasto
					group by lista_flat_catasto.id_istanza  
					) catasti ON catasti.id_istanza=mti.id_istanza
			left join (
                select lista_flat_soggetti.id_istanza, CONCAT(array_to_string(array_agg(CONCAT(descr, '' <div class="ml-3">'', ruoli, ''</div>'' )), ''<br>'')) as soggetto
                    from (
                        SELECT ist.id_istanza, UPPER(a.intestazione) as descr, array_to_string(array_agg( distinct CONCAT(tp.tipologia)), ''<br>'') as ruoli FROM 
                                    mudeopen_t_pratica pr
                                    inner join mudeopen_r_istanza_pratica pra on pra.id_pratica = pr.id_pratica 
                                    inner join mudeopen_t_istanza ist on pra.id_istanza = ist.id_istanza 
									inner join arcaeos.predpratica p on date_part(''year'',ist.data_protocollo) || ''/'' || ist.numero_protocollo  = p.numprotocollo
                                    join arcaeos.syssoggetticoinvolti s on p.guid= s.guid
                                    join arcaeos.syssoggetticoinvoltitipologia ss on  (ss.guid  = s.guid and s.idpersona = ss.idpersona  )
                                    join arcaeos.systabsoggetticoinvoltitipologia tp on tp.idtipologia = ss.idtipologia 
                                    join arcaeos.anaperpersona a on a.idpersona = s.idpersona 
                            GROUP BY ist.id_istanza, a.intestazione
                        union 
						SELECT ist.id_istanza, UPPER(a.intestazione) as descr,  
						case 
							 when rec.intestatario = -1  and rec.richiedente = -1  then ''Intestatario <br> Richiedente''
							 when rec.intestatario = -1  and rec.richiedente != -1  then ''Intestatario''
							 when rec.intestatario != -1  and rec.richiedente = -1  then ''Richiedente''
						end ruoli	 
						FROM 
						        mudeopen_t_pratica pr
						        inner join mudeopen_r_istanza_pratica pra on pra.id_pratica = pr.id_pratica 
						        inner join mudeopen_t_istanza ist on pra.id_istanza = ist.id_istanza 
								inner join arcaeos.predpratica p on date_part(''year'',ist.data_protocollo) || ''/'' || ist.numero_protocollo  = p.numprotocollo
						        join arcaeos.syssoggetticoinvolti s on p.guid= s.guid
								join arcaeos.predpraticarichiedente rec on rec.idrichiedente = s.idpersona 
						        join arcaeos.anaperpersona a on a.idpersona = s.idpersona 
						        left join arcaeos.syssoggetticoinvoltitipologia ss on  (ss.guid  = s.guid and s.idpersona = ss.idpersona  )
						        left join arcaeos.systabsoggetticoinvoltitipologia tp on tp.idtipologia = ss.idtipologia 
                    ) lista_flat_soggetti
                    group by lista_flat_soggetti.id_istanza            
            ) soggetti ON soggetti.id_istanza=mti.id_istanza
            LEFT JOIN (
                select :IDISTANZA as id_istanza, 
                        max(prot_nomina_collaudatore) as protocollo_nomina_coll, 
                        max(data_prot_nomina_collaudatore) as data_prot_nomina_coll, 
                        max(prot_fine_lavori) as num_prot_fine_lavori, 
                        max(data_prot_fine_lavori)as data_prot_fine_lavori, 
                        max(data_effettiva_fine_lavori) as data_effettiva_fine_lavori,
                        max(prot_collaudo) as protocollo_collaudo, 
                        max(data_prot_collaudo)as data_prot_collaudo,
                        max(prot_DRE)as protocollo_DRE, 
                        max(data_prot_DRE)as data_prot_DRE,
                        max(num_prot_RSU) as protocollo_RSU,
                        max(data_prot_RSU) as data_prot_RSU,
                        max(num_prot_inizio_lavori) as num_prot_inizio_lavori, 
                        max(data_prot_inizio_lavori) as data_prot_inizio_lavori, 
                        max(data_effettiva_inizio_lavori) as data_effettiva_inizio_lavori
                from (
                    SELECT  
                        case 
                            when ist.id_tipo_istanza = ''NOMINA-COLL-DS'' then ist.numero_protocollo
                        end prot_nomina_collaudatore,
                        case 
                            when ist.id_tipo_istanza = ''NOMINA-COLL-DS'' then ist.data_protocollo
                        end data_prot_nomina_collaudatore,
                        case 
                            when ist.id_tipo_istanza = ''FIL-DS'' then ist.numero_protocollo
                        end prot_fine_lavori,
                        case 
                            when ist.id_tipo_istanza = ''FIL-DS'' then ist.data_protocollo
                        end data_prot_fine_lavori,
                        case 
                            when ist.id_tipo_istanza = ''FIL-DS'' then ist.json_data->''TAB_CERT''->>''data_lavori_ultimati''
                        end data_effettiva_fine_lavori,
                        case 
                            when ist.id_tipo_istanza = ''COLLAUDO-DS'' then ist.numero_protocollo
                        end prot_collaudo,
                        case 
                            when ist.id_tipo_istanza = ''COLLAUDO-DS'' then ist.data_protocollo
                        end data_prot_collaudo,
                        case 
                            when ist.id_tipo_istanza = ''DRE-DS'' then ist.numero_protocollo
                        end prot_DRE,
                        case 
                            when ist.id_tipo_istanza = ''DRE-DS'' then ist.data_protocollo
                        end data_prot_DRE,
                        case 
                            when ist.id_tipo_istanza = ''RSU-DS'' then ist.numero_protocollo
                        end num_prot_RSU,
                        case 
                            when ist.id_tipo_istanza = ''RSU-DS'' then ist.data_protocollo
                        end data_prot_RSU,
                        case 
                            when ist.id_tipo_istanza = ''IL-DS'' then ist.numero_protocollo
                        end num_prot_inizio_lavori,
                        case 
                            when ist.id_tipo_istanza = ''IL-DS'' then ist.data_protocollo
                        end data_prot_inizio_lavori,
                        case 
                            when ist.id_tipo_istanza = ''IL-DS'' then ist.json_data->''TAB_CERT_AU''->>''inData''
                        end data_effettiva_inizio_lavori
                    FROM mudeopen_r_istanza_pratica mip
                        inner join mudeopen_t_istanza ist on ist.id_istanza = mip.id_istanza 
                    WHERE  id_pratica in (select pra.id_pratica from mudeopen_t_pratica pra
                        INNER JOIN  mudeopen_r_istanza_pratica ip on ip.id_pratica = pra.id_pratica where ip.id_istanza = :IDISTANZA)  
                ) pivot
            ) protocolliFO ON protocolliFO.id_istanza = mti.id_istanza	         
        where 1=1
            and mdc.fine_validita is null
            AND mti.loguser like ''%AEOS%''    
    ) tblistanza  ',NULL,NULL,NULL,'2024-07-05 16:16:31.931','2024-07-05 16:16:31.931',NULL,NULL),
	 ('COSMO_RIASSUNTO_HTML_DENUNCIA_SISMICA','<i>Numero pratica:</i> <strong>{{ex_PRATICA_COSMO.numeroPratica}}</strong><br><br>
<i>Codice istanza:</i><strong>{{ex_ISTANZA.codiceIstanza}}</strong><br>
<i>Comune:</i><strong>{{ex_ISTANZA.comune.descrizione}}</strong><br>
<i>Intestatario:</i><strong>{{ex_ISTANZA.intestatario.nome}}</strong><br>
<i>Cointestatari:</i><strong>{{ex_MUDE_INFO.cointestatari}}</strong><br>
<i>Procuratore:</i><strong>{{ex_MUDE_INFO.procuratore}}</strong><br>
<i>Localizzazione intervento:</i><strong>{{ex_ISTANZA.indirizzo.dug.descrizione}} {{ex_ISTANZA.indirizzo.duf}}, {{ex_ISTANZA.indirizzo.numero}}</strong><br>
<i>Descrizione specie pratica:</i><strong>{{ex_ISTANZA.speciePratica.descrizioneEstesa}}</strong><br>
<i>Tipo istruttoria:</i><strong>{{ex_MUDE_INFO.tipoIstruttoria}}</strong><br>
<i>Oggetto intervento:</i><strong>{{ex_MUDE_INFO.titoloIntervento}}</strong><br>
<i>Descrizione sintetica dell’intervento:</i><strong>{{ex_MUDE_INFO.descrizioneIntervento}}</strong><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBO}}" target="_NEW">vai all''istanza nel back-office mudeopen</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBODetail}}" target="_NEW">vai ai dettagli dell''istanza</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBOPraticaDetail}}" target="_NEW">vai al dettaglio pratica</a><br><br>
','sommario da inviare a COSMO nella creazione della pratica',NULL,NULL,'2024-03-20 17:57:59.574','2024-03-20 17:57:59.574',NULL,NULL),
	 ('COSMO_RIASSUNTO_HTML','<i>Numero pratica:</i> <strong>{{ex_PRATICA_COSMO.numeroPratica}}</strong><br><br>
<i>Codice istanza:</i><strong>{{ex_ISTANZA.codiceIstanza}}</strong><br>
<i>Comune:</i><strong>{{ex_ISTANZA.comune.descrizione}}</strong><br>
<i>Intestatario:</i><strong>{{ex_ISTANZA.intestatario.nome}}</strong><br>
<i>Cointestatari:</i><strong>{{ex_MUDE_INFO.cointestatari}}</strong><br>
<i>Procuratore:</i><strong>{{ex_MUDE_INFO.procuratore}}</strong><br>
<i>Localizzazione intervento:</i><strong>{{ex_ISTANZA.indirizzo.dug.descrizione}} {{ex_ISTANZA.indirizzo.duf}}, {{ex_ISTANZA.indirizzo.numero}}</strong><br>
<i>Descrizione specie pratica:</i><strong>{{ex_ISTANZA.speciePratica.descrizioneEstesa}}</strong><br>
<i>Tipo istruttoria:</i><strong>{{ex_MUDE_INFO.tipoIstruttoria}}</strong><br>
<i>Oggetto intervento:</i><strong>{{ex_MUDE_INFO.titoloIntervento}}</strong><br>
<i>Descrizione sintetica dell’intervento:</i><strong>{{ex_MUDE_INFO.descrizioneIntervento}}</strong><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBO}}" target="_NEW">vai all''istanza nel back-office mudeopen</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBODetail}}" target="_NEW">vai ai dettagli dell''istanza</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBOPraticaDetail}}" target="_NEW">vai al dettaglio pratica</a><br><br>
','sommario da inviare a COSMO nella creazione della pratica',NULL,NULL,'2024-03-20 17:57:59.574','2024-03-20 17:57:59.574',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('GEECO_JSON_EXTRA_PARAMS',', "authCommunity": "wrup", "authLevel": "liv1"','set ${extraInfo} in json','BO',NULL,'2024-11-04 13:18:04.427409','2024-11-04 13:18:04.427409',NULL,NULL),
	 ('COSMO_RIASSUNTO_HTML_FIL_DS','<i>Numero pratica:</i> <strong>{{ex_PRATICA_COSMO.numeroPratica}}</strong><br><br>
<i>Codice istanza:</i><strong>{{ex_ISTANZA.codiceIstanza}}</strong><br>
<i>Comune:</i><strong>{{ex_ISTANZA.comune.descrizione}}</strong><br>
<i>Intestatario:</i><strong>{{ex_ISTANZA.intestatario.nome}}</strong><br>
<i>Cointestatari:</i><strong>{{ex_MUDE_INFO.cointestatari}}</strong><br>
<i>Procuratore:</i><strong>{{ex_MUDE_INFO.procuratore}}</strong><br>
<i>Localizzazione intervento:</i><strong>{{ex_ISTANZA.indirizzo.dug.descrizione}} {{ex_ISTANZA.indirizzo.duf}}, {{ex_ISTANZA.indirizzo.numero}}</strong><br>
<i>Oggetto intervento:</i><strong>{{ex_MUDE_INFO.titoloIntervento}}</strong><br>
<i>Descrizione sintetica dell’intervento:</i><strong>{{ex_MUDE_INFO.descrizioneIntervento}}</strong><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBO}}" target="_NEW">vai all''istanza nel back-office mudeopen</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBODetail}}" target="_NEW">vai ai dettagli dell''istanza</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBOPraticaDetail}}" target="_NEW">vai al dettaglio pratica</a><br><br>
',NULL,NULL,NULL,'2024-05-23 15:32:55.563','2024-05-23 15:32:55.563',NULL,NULL),
	 ('COSMO_RIASSUNTO_HTML_IL_DS','<i>Numero pratica: </i> <strong>{{ex_PRATICA_COSMO.numeroPratica}}</strong><br><br>
<i>Codice istanza: </i><strong>{{ex_ISTANZA.codiceIstanza}}</strong><br>
<i>Comune: </i><strong>{{ex_ISTANZA.comune.descrizione}}</strong><br>
<i>Intestatario: </i><strong>{{ex_ISTANZA.intestatario.nome}}</strong><br>
<i>Cointestatari: </i><strong>{{ex_MUDE_INFO.cointestatari}}</strong><br>
<i>Procuratore: </i><strong>{{ex_MUDE_INFO.procuratore}}</strong><br>
<i>Localizzazione intervento: </i><strong>{{ex_ISTANZA.indirizzo.dug.descrizione}} {{ex_ISTANZA.indirizzo.duf}}, {{ex_ISTANZA.indirizzo.numero}}</strong><br>
<i>Oggetto intervento: </i><strong>{{ex_MUDE_INFO.titoloIntervento}}</strong><br>
<i>Descrizione sintetica dell’intervento: </i><strong>{{ex_MUDE_INFO.descrizioneIntervento}}</strong><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBO}}" target="_NEW">vai all''istanza nel back-office mudeopen</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBODetail}}" target="_NEW">vai ai dettagli dell''istanza</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBOPraticaDetail}}" target="_NEW">vai al dettaglio pratica</a><br><br>
',NULL,NULL,NULL,'2024-05-23 15:32:55.563','2024-05-23 15:32:55.563',NULL,NULL),
	 ('COSMO_RIASSUNTO_HTML_REL_ILL_DS','<i>Numero pratica: </i> <strong>{{ex_PRATICA_COSMO.numeroPratica}}</strong><br><br>
<i>Codice istanza: </i><strong>{{ex_ISTANZA.codiceIstanza}}</strong><br>
<i>Comune: </i><strong>{{ex_ISTANZA.comune.descrizione}}</strong><br>
<i>Intestatario: </i><strong>{{ex_ISTANZA.intestatario.nome}}</strong><br>
<i>Cointestatari: </i><strong>{{ex_MUDE_INFO.cointestatari}}</strong><br>
<i>Procuratore: </i><strong>{{ex_MUDE_INFO.procuratore}}</strong><br>
<i>Localizzazione intervento: </i><strong>{{ex_ISTANZA.indirizzo.dug.descrizione}} {{ex_ISTANZA.indirizzo.duf}}, {{ex_ISTANZA.indirizzo.numero}}</strong><br>
<i>Oggetto intervento: </i><strong>{{ex_MUDE_INFO.titoloIntervento}}</strong><br>
<i>Descrizione sintetica dell’intervento: </i><strong>{{ex_MUDE_INFO.descrizioneIntervento}}</strong><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBO}}" target="_NEW">vai all''istanza nel back-office mudeopen</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBODetail}}" target="_NEW">vai ai dettagli dell''istanza</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBOPraticaDetail}}" target="_NEW">vai al dettaglio pratica</a><br><br>
',NULL,NULL,NULL,'2024-05-23 15:32:55.563','2024-05-23 15:32:55.563',NULL,NULL),
	 ('COSMO_RIASSUNTO_HTML_INT_DOC','<i>Numero pratica:</i> <strong>{{ex_PRATICA_COSMO.numeroPratica}}</strong><br><br>
<i>Codice istanza:</i><strong>{{ex_ISTANZA.codiceIstanza}}</strong><br>
<i>Comune:</i><strong>{{ex_ISTANZA.comune.descrizione}}</strong><br>
<i>Intestatario:</i><strong>{{ex_ISTANZA.intestatario.nome}}</strong><br>
<i>Cointestatari:</i><strong>{{ex_MUDE_INFO.cointestatari}}</strong><br>
<i>Procuratore:</i><strong>{{ex_MUDE_INFO.procuratore}}</strong><br>
<i>Localizzazione intervento:</i><strong>{{ex_ISTANZA.indirizzo.dug.descrizione}} {{ex_ISTANZA.indirizzo.duf}}, {{ex_ISTANZA.indirizzo.numero}}</strong><br>
<i>Oggetto intervento:</i><strong>{{ex_MUDE_INFO.titoloIntervento}}</strong><br>
<i>Descrizione sintetica dell’intervento:</i><strong>{{ex_MUDE_INFO.descrizioneIntervento}}</strong><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBO}}" target="_NEW">vai all''istanza nel back-office mudeopen</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBODetail}}" target="_NEW">vai ai dettagli dell''istanza</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBOPraticaDetail}}" target="_NEW">vai al dettaglio pratica</a><br><br>
',NULL,NULL,NULL,'2024-05-23 15:32:55.563','2024-05-23 15:32:55.563',NULL,NULL),
	 ('COSMO_RIASSUNTO_HTML_VAR_INTEST_DS','<i>Numero pratica: </i> <strong>{{ex_PRATICA_COSMO.numeroPratica}}</strong><br><br>
<i>Codice istanza: </i><strong>{{ex_ISTANZA.codiceIstanza}}</strong><br>
<i>Comune: </i><strong>{{ex_ISTANZA.comune.descrizione}}</strong><br>
<i>Intestatario: </i><strong>{{ex_ISTANZA.intestatario.nome}}</strong><br>
<i>Cointestatari: </i><strong>{{ex_MUDE_INFO.cointestatari}}</strong><br>
<i>Procuratore: </i><strong>{{ex_MUDE_INFO.procuratore}}</strong><br>
<i>Localizzazione intervento: </i><strong>{{ex_ISTANZA.indirizzo.dug.descrizione}} {{ex_ISTANZA.indirizzo.duf}}, {{ex_ISTANZA.indirizzo.numero}}</strong><br>
<i>Oggetto intervento: </i><strong>{{ex_MUDE_INFO.titoloIntervento}}</strong><br>
<i>Descrizione sintetica dell’intervento: </i><strong>{{ex_MUDE_INFO.descrizioneIntervento}}</strong><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBO}}" target="_NEW">vai all''istanza nel back-office mudeopen</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBODetail}}" target="_NEW">vai ai dettagli dell''istanza</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBOPraticaDetail}}" target="_NEW">vai al dettaglio pratica</a><br><br>
',NULL,NULL,NULL,'2024-05-23 15:32:55.563','2024-05-23 15:32:55.563',NULL,NULL),
	 ('COSMO_RIASSUNTO_HTML_DRE_DS','<i>Numero pratica: </i> <strong>{{ex_PRATICA_COSMO.numeroPratica}}</strong><br><br>
<i>Codice istanza: </i><strong>{{ex_ISTANZA.codiceIstanza}}</strong><br>
<i>Comune: </i><strong>{{ex_ISTANZA.comune.descrizione}}</strong><br>
<i>Intestatario: </i><strong>{{ex_ISTANZA.intestatario.nome}}</strong><br>
<i>Cointestatari: </i><strong>{{ex_MUDE_INFO.cointestatari}}</strong><br>
<i>Procuratore: </i><strong>{{ex_MUDE_INFO.procuratore}}</strong><br>
<i>Localizzazione intervento: </i><strong>{{ex_ISTANZA.indirizzo.dug.descrizione}} {{ex_ISTANZA.indirizzo.duf}}, {{ex_ISTANZA.indirizzo.numero}}</strong><br>
<i>Oggetto intervento: </i><strong>{{ex_MUDE_INFO.titoloIntervento}}</strong><br>
<i>Descrizione sintetica dell’intervento: </i><strong>{{ex_MUDE_INFO.descrizioneIntervento}}</strong><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBO}}" target="_NEW">vai all''istanza nel back-office mudeopen</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBODetail}}" target="_NEW">vai ai dettagli dell''istanza</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBOPraticaDetail}}" target="_NEW">vai al dettaglio pratica</a><br><br>
',NULL,NULL,NULL,'2024-05-23 15:32:55.563','2024-05-23 15:32:55.563',NULL,NULL),
	 ('DS_USER_ROLE_SP_VISIBILITY','SPE00RP211,SPE00RP207,SPE00RP208,SPE00RP212,SPE00RP213,SPE00RP214,SPE00RP215,SPE00RP216,SPE00RP217,SPE00RP218,SPE00RP219','filtro ricerca DS regionali','DO,DA',NULL,'2024-06-03 11:24:36.988','2024-06-03 11:24:36.988',NULL,NULL),
	 ('SIGMATER_URLTOKEN','',NULL,NULL,NULL,'2024-10-11 20:08:24.442','2024-10-11 20:08:24.442',NULL,NULL),
	 ('COSMO_RIASSUNTO_HTML_COLLAUDO_DS','<i>Numero pratica: </i> <strong>{{ex_PRATICA_COSMO.numeroPratica}}</strong><br><br>
<i>Codice istanza: </i><strong>{{ex_ISTANZA.codiceIstanza}}</strong><br>
<i>Comune: </i><strong>{{ex_ISTANZA.comune.descrizione}}</strong><br>
<i>Intestatario: </i><strong>{{ex_ISTANZA.intestatario.nome}}</strong><br>
<i>Cointestatari: </i><strong>{{ex_MUDE_INFO.cointestatari}}</strong><br>
<i>Procuratore: </i><strong>{{ex_MUDE_INFO.procuratore}}</strong><br>
<i>Localizzazione intervento: </i><strong>{{ex_ISTANZA.indirizzo.dug.descrizione}} {{ex_ISTANZA.indirizzo.duf}}, {{ex_ISTANZA.indirizzo.numero}}</strong><br>
<i>Oggetto intervento: </i><strong>{{ex_MUDE_INFO.titoloIntervento}}</strong><br>
<i>Descrizione sintetica dell’intervento: </i><strong>{{ex_MUDE_INFO.descrizioneIntervento}}</strong><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBO}}" target="_NEW">vai all''istanza nel back-office mudeopen</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBODetail}}" target="_NEW">vai ai dettagli dell''istanza</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBOPraticaDetail}}" target="_NEW">vai al dettaglio pratica</a><br><br>
',NULL,NULL,NULL,'2024-05-23 15:32:55.563','2024-05-23 15:32:55.563',NULL,NULL);
INSERT INTO mudeopen_c_proprieta (nome,valore,note,visibilita,loguser,data_inizio,data_modifica,data_fine,id_specie_pratica) VALUES
	 ('COSMO_RIASSUNTO_HTML_RSU_DS','<i>Numero pratica: </i> <strong>{{ex_PRATICA_COSMO.numeroPratica}}</strong><br><br>
<i>Codice istanza: </i><strong>{{ex_ISTANZA.codiceIstanza}}</strong><br>
<i>Comune: </i><strong>{{ex_ISTANZA.comune.descrizione}}</strong><br>
<i>Intestatario: </i><strong>{{ex_ISTANZA.intestatario.nome}}</strong><br>
<i>Cointestatari: </i><strong>{{ex_MUDE_INFO.cointestatari}}</strong><br>
<i>Procuratore: </i><strong>{{ex_MUDE_INFO.procuratore}}</strong><br>
<i>Localizzazione intervento: </i><strong>{{ex_ISTANZA.indirizzo.dug.descrizione}} {{ex_ISTANZA.indirizzo.duf}}, {{ex_ISTANZA.indirizzo.numero}}</strong><br>
<i>Oggetto intervento: </i><strong>{{ex_MUDE_INFO.titoloIntervento}}</strong><br>
<i>Descrizione sintetica dell’intervento: </i><strong>{{ex_MUDE_INFO.descrizioneIntervento}}</strong><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBO}}" target="_NEW">vai all''istanza nel back-office mudeopen</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBODetail}}" target="_NEW">vai ai dettagli dell''istanza</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBOPraticaDetail}}" target="_NEW">vai al dettaglio pratica</a><br><br>
',NULL,NULL,NULL,'2024-05-23 15:32:55.563','2024-05-23 15:32:55.563',NULL,NULL),
	 ('COSMO_RIASSUNTO_HTML_NOMINA_COSTR_DS','<i>Numero pratica: </i> <strong>{{ex_PRATICA_COSMO.numeroPratica}}</strong><br><br>
<i>Codice istanza: </i><strong>{{ex_ISTANZA.codiceIstanza}}</strong><br>
<i>Comune: </i><strong>{{ex_ISTANZA.comune.descrizione}}</strong><br>
<i>Intestatario: </i><strong>{{ex_ISTANZA.intestatario.nome}}</strong><br>
<i>Cointestatari: </i><strong>{{ex_MUDE_INFO.cointestatari}}</strong><br>
<i>Procuratore: </i><strong>{{ex_MUDE_INFO.procuratore}}</strong><br>
<i>Localizzazione intervento: </i><strong>{{ex_ISTANZA.indirizzo.dug.descrizione}} {{ex_ISTANZA.indirizzo.duf}}, {{ex_ISTANZA.indirizzo.numero}}</strong><br>
<i>Oggetto intervento: </i><strong>{{ex_MUDE_INFO.titoloIntervento}}</strong><br>
<i>Descrizione sintetica dell’intervento: </i><strong>{{ex_MUDE_INFO.descrizioneIntervento}}</strong><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBO}}" target="_NEW">vai all''istanza nel back-office mudeopen</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBODetail}}" target="_NEW">vai ai dettagli dell''istanza</a><br><br>
<a href="{{ex_MUDE_INFO.urlIstanzaBOPraticaDetail}}" target="_NEW">vai al dettaglio pratica</a><br><br>
',NULL,NULL,NULL,'2024-05-23 15:32:55.563','2024-05-23 15:32:55.563',NULL,NULL),
	 ('COSMO_TEMPLATE_FILE','<strong>{{ex_FILENAME}}</strong><br>{{ex_FILEHASH}}',NULL,NULL,NULL,'2024-10-29 16:16:03.087234','2024-10-29 16:16:03.087234',NULL,NULL),
	 ('COSMO_SEGNALE_ALLEGATI','INT-DOC',NULL,NULL,NULL,'2024-10-29 16:16:41.023371','2024-10-29 16:16:41.023371',NULL,NULL),
	 ('BO_EXTRA_COLUMNS_DENUNCIA-SISMICA',' SELECT * FROM (
    SELECT 
            ''Gestione lavori denuncia'' AS "TB1", 
                COALESCE (mta.data_effettiva_inizio_lavori, TO_CHAR(prae.datainiziolavorieffettiva, ''DD/MM/YYYY''), protocolliFO.data_effettiva_inizio_lavori, '''') AS "TB1-01:data inizio lavori effettiva",
                null AS "TB1-02:VOID",  
                null AS "TB1-03:VOID", 
                COALESCE (mta.data_prot_inizio_lavori, TO_CHAR(prae.dataprotcominilav, ''DD/MM/YYYY''), TO_CHAR(protocolliFO.data_prot_inizio_lavori ,''DD/MM/YYYY hh.mm.ss''),'''') AS "TB1-04:Data comunicazione inizio lavori", 
                COALESCE(mta.num_prot_inizio_lavori, prae.numprotcominilav, protocolliFO.num_prot_inizio_lavori,'''') AS "TB1-05:Num protocollo comunicazione inizio lavori", 
                null AS "TB1-06:VOID", 
                COALESCE (mta.data_effettiva_fine_lavori, TO_CHAR(prae.datafinelavorieffettiva, ''DD/MM/YYYY''),protocolliFO.data_effettiva_fine_lavori,'''') AS "TB1-07:Data fine lavori effettiva", 
                null AS "TB1-08:VOID",  
                null AS "TB1-09:VOID", 
                COALESCE (mta.data_prot_fine_lavori, TO_CHAR(prae.dataprotcomfinlav, ''DD/MM/YYYY''),TO_CHAR(protocolliFO.data_prot_fine_lavori,''DD/MM/YYYY hh.mm.ss''),'''') AS "TB1-10:Data comunicazione fine lavori", 
                COALESCE (mta.num_prot_fine_lavori, prae.numprotcomfinlav,protocolliFO.num_prot_fine_lavori,'''') AS "TB1-11:Num protocollo comunicazione fine lavori", 
                null AS "TB1-12:VOID", 
                COALESCE(mta.data_prot_nomina_coll, TO_CHAR(prae.dataprotnominacoll, ''DD/MM/YYYY''),TO_CHAR(protocolliFO.data_prot_nomina_coll,''DD/MM/YYYY hh.mm.ss''),'''') AS "TB1-13:Data comunicazione nomina collaudatore",
                COALESCE(mta.protocollo_nomina_coll, prae.numprotnominacoll, protocolliFO.protocollo_nomina_coll ,'''') AS "TB1-14:Num protocollo nomina collaudatore",
                null AS "TB1-15:VOID", 
                COALESCE(mta.dataprotcertificato, TO_CHAR(prae.dataprotcertificato, ''DD/MM/YYYY'')) AS "TB1-16:Data presentazione certificato",
                COALESCE(mta.numprotcertificato, prae.numprotcertificato) AS "TB1-17:Num protocollo certificato",
                null AS "TB1-18:VOID", 
                COALESCE(mta.data_prot_collaudo, TO_CHAR(prae.dataprotcomc94, ''DD/MM/YYYY''),TO_CHAR(protocolliFO.data_prot_collaudo,''DD/MM/YYYY hh.mm.ss''),'''') AS "TB1-19:Data comunicazione collaudo",
                COALESCE(mta.protocollo_collaudo, prae.numprotcomc94, protocollifo.protocollo_collaudo ,'''') AS "TB1-20:Num protocollo collaudo",
                null AS "TB1-21:VOID", 
                COALESCE (mta.data_prot_DRE, TO_CHAR(prae.dataprotcomdre, ''DD/MM/YYYY''),TO_CHAR(protocolliFO.data_prot_DRE,''DD/MM/YYYY hh.mm.ss''),'''') AS "TB1-22:Data comunicazione DRE",
                COALESCE(mta.protocollo_DRE, prae.numprotcomDRE,protocolliFO.protocollo_DRE,'''' ) AS "TB1-23:Num protocollo comunicazione DRE",
                null AS "TB1-24:VOID", 
                COALESCE (mta.data_prot_RSU, TO_CHAR(protocolliFO.data_prot_RSU,''DD/MM/YYYY hh.mm.ss''),'''') AS "TB1-25:Data comunicazione RSU",
                COALESCE(mta.protocollo_RSU, prae.numprotcomDRE,protocolliFO.protocollo_RSU,'''' ) AS "TB1-26:Num protocollo comunicazione RSU",
                null AS "TB1-27:VOID", 
	            COALESCE(mta.datacompilazione, TO_CHAR(prae.datacompilazione, ''DD/MM/YYYY'')) AS "TB1-28:Data compilazione pratica",
                null AS "TB1-29:VOID", 
                null AS "TB1-30:VOID", 
                prae.titabitipo AS "TB1-31:Tipologia titolo abilitativo",
                prae.titabinumero AS "TB1-32:Numero titolo abilitativo",
                prae.titabidata AS "TB1-33:Data titolo abilitativo",
                COALESCE(mta.notesism, prae.notesism) AS "TB1-34:Note",
            ''Ubicazione'' AS "TB2", 
                coalesce(dug.denominazione || '' '' ||ind.indirizzo, aind.toponimo|| '' '' || aind.indirizzo, '''' ) AS "TB2-01:Indirizzo",
                coalesce(ind.numero_civico,t.numciv ) AS "TB2-02:n° civico",
                ind.cap AS "TB2-03:CAP",
                com.denom_comune AS "TB2-04:Comune",
                catasti.catasto as "TB2-05:Dati catastali",
                mti.id_istanza,
            ''Soggetti'' as "TB3",
                soggetti.soggetto AS "TB3-01:Lista soggetti denuncia"
        FROM arcaeos.predsism prae
            INNER JOIN mudeopen_d_comune mdc on mdc.cod_istat_comune =  prae.idcomune 
            INNER JOIN mudeopen_t_istanza mti ON mti.numero_protocollo = REGEXP_REPLACE(prae.numprotocollo, ''[0-9]+[/]{0,1}([0-9]+)'', ''\1'', ''g'')
                            AND prae.numprotocollo IS NOT NULL 
                            AND date_part(''year'', mti.data_protocollo)::varchar = REGEXP_REPLACE(prae.numprotocollo, ''([0-9]+)[/][0-9]+'', ''\1'', ''g'')
            left JOIN mudeopen_t_aeos mta ON mti.id_istanza=mta.id_istanza
            left join mudeopen_t_indirizzo ind on mti.id_indirizzo = ind.id_indirizzo
            left join mudeopen_d_dug dug on dug.id_dug = ind.id_dug 
            left join mudeopen_d_comune com on com.id_comune = mti.id_comune
            left join arcaeos.predpraticaubicazione ubic on mti.numero_protocollo = REGEXP_REPLACE(ubic.numprotocollo, ''[0-9]+[/]{0,1}([0-9]+)'', ''\1'', ''g'')
                            AND ubic.numprotocollo IS NOT NULL 
                            AND date_part(''year'', mti.data_protocollo)::varchar = REGEXP_REPLACE(ubic.numprotocollo, ''([0-9]+)[/][0-9]+'', ''\1'', ''g'')
							and ubic.idcomune = substring(mti.codice_istanza,4,6)
			left join arcaeos.toptabindirizzo aind on aind.idindirizzo = ubic.idindirizzo and aind.idzona = com.cod_istat_comune                           
			left join arcaeos.toptabnumciv t on t.idnumciv = ubic.idnumciv  and  aind.idindirizzo = t.idindirizzo and com.cod_istat_comune  = t.idzona
			left join (
					select lista_flat_catasto.id_istanza,  CONCAT(array_to_string(array_agg(CONCAT('' <div class="ml-3">'', daticatasto, ''</div>'' )), ''<br>'')) as catasto
					from (
					SELECT ist.id_istanza, 
					array_to_string(array_agg( distinct CONCAT(''Tipo catasto '' || coalesce(pcat.idtipocatasto::text,''-'')) || '' /  Foglio '' || coalesce(pcat.foglio::text,''-'') || '' /  Numero '' || coalesce(pcat.Numero::text,''-'') || '' / Subalterno '' || coalesce(pcat.subalterno::text,''-''))  , ''<br>'') as daticatasto FROM 
                                    mudeopen_t_pratica pr
                                    inner join mudeopen_r_istanza_pratica pra on pra.id_pratica = pr.id_pratica 
                                    inner join mudeopen_t_istanza ist on pra.id_istanza = ist.id_istanza 
									inner join arcaeos.predpratica p on date_part(''year'',ist.data_protocollo) || ''/'' || ist.numero_protocollo  = p.numprotocollo
                                    inner join arcaeos.predpraticacatasto pcat on pcat.numprotocollo = p.numprotocollo and pcat.idcomune = p.idcomune
                            GROUP BY ist.id_istanza
					)lista_flat_catasto
					group by lista_flat_catasto.id_istanza  
					) catasti ON catasti.id_istanza=mti.id_istanza
			left join (
                select lista_flat_soggetti.id_istanza, CONCAT(array_to_string(array_agg(CONCAT(descr, '' <div class="ml-3">'', ruoli, ''</div>'' )), ''<br>'')) as soggetto
                    from (
                        SELECT ist.id_istanza, UPPER(a.intestazione) as descr, array_to_string(array_agg( distinct CONCAT(tp.tipologia)), ''<br>'') as ruoli FROM 
                                    mudeopen_t_pratica pr
                                    inner join mudeopen_r_istanza_pratica pra on pra.id_pratica = pr.id_pratica 
                                    inner join mudeopen_t_istanza ist on pra.id_istanza = ist.id_istanza 
									inner join arcaeos.predpratica p on date_part(''year'',ist.data_protocollo) || ''/'' || ist.numero_protocollo  = p.numprotocollo
                                    join arcaeos.syssoggetticoinvolti s on p.guid= s.guid
                                    join arcaeos.syssoggetticoinvoltitipologia ss on  (ss.guid  = s.guid and s.idpersona = ss.idpersona  )
                                    join arcaeos.systabsoggetticoinvoltitipologia tp on tp.idtipologia = ss.idtipologia 
                                    join arcaeos.anaperpersona a on a.idpersona = s.idpersona
									where p.idcomune = substring(ist.codice_istanza,4,6) 
                            GROUP BY ist.id_istanza, a.intestazione
                        union 
						SELECT ist.id_istanza, UPPER(a.intestazione) as descr,  
						case 
							 when rec.intestatario = -1  and rec.richiedente = -1  then ''Intestatario <br> Richiedente''
							 when rec.intestatario = -1  and rec.richiedente != -1  then ''Intestatario''
							 when rec.intestatario != -1  and rec.richiedente = -1  then ''Richiedente''
						end ruoli	 
						FROM 
						        mudeopen_t_pratica pr
						        inner join mudeopen_r_istanza_pratica pra on pra.id_pratica = pr.id_pratica 
						        inner join mudeopen_t_istanza ist on pra.id_istanza = ist.id_istanza 
								inner join arcaeos.predpratica p on date_part(''year'',ist.data_protocollo) || ''/'' || ist.numero_protocollo  = p.numprotocollo
						        join arcaeos.syssoggetticoinvolti s on p.guid= s.guid
								join arcaeos.predpraticarichiedente rec on rec.idrichiedente = s.idpersona 
						        join arcaeos.anaperpersona a on a.idpersona = s.idpersona 
						        left join arcaeos.syssoggetticoinvoltitipologia ss on  (ss.guid  = s.guid and s.idpersona = ss.idpersona  )
						        left join arcaeos.systabsoggetticoinvoltitipologia tp on tp.idtipologia = ss.idtipologia 
								where p.idcomune = substring(ist.codice_istanza,4,6)
                    ) lista_flat_soggetti
                    group by lista_flat_soggetti.id_istanza            
            ) soggetti ON soggetti.id_istanza=mti.id_istanza
            LEFT JOIN (
                select :IDISTANZA as id_istanza, 
                        max(prot_nomina_collaudatore) as protocollo_nomina_coll, 
                        max(data_prot_nomina_collaudatore) as data_prot_nomina_coll, 
                        max(prot_fine_lavori) as num_prot_fine_lavori, 
                        max(data_prot_fine_lavori)as data_prot_fine_lavori, 
                        max(data_effettiva_fine_lavori) as data_effettiva_fine_lavori,
                        max(prot_collaudo) as protocollo_collaudo, 
                        max(data_prot_collaudo)as data_prot_collaudo,
                        max(prot_DRE)as protocollo_DRE, 
                        max(data_prot_DRE)as data_prot_DRE,
                        max(num_prot_RSU) as protocollo_RSU,
                        max(data_prot_RSU) as data_prot_RSU,
                        max(num_prot_inizio_lavori) as num_prot_inizio_lavori, 
                        max(data_prot_inizio_lavori) as data_prot_inizio_lavori, 
                        max(data_effettiva_inizio_lavori) as data_effettiva_inizio_lavori
                from (
                    SELECT  
                        case 
                            when ist.id_tipo_istanza = ''NOMINA-COLL-DS'' then ist.numero_protocollo
                        end prot_nomina_collaudatore,
                        case 
                            when ist.id_tipo_istanza = ''NOMINA-COLL-DS'' then ist.data_protocollo
                        end data_prot_nomina_collaudatore,
                        case 
                            when ist.id_tipo_istanza = ''FIL-DS'' then ist.numero_protocollo
                        end prot_fine_lavori,
                        case 
                            when ist.id_tipo_istanza = ''FIL-DS'' then ist.data_protocollo
                        end data_prot_fine_lavori,
                        case 
                            when ist.id_tipo_istanza = ''FIL-DS'' then ist.json_data->''TAB_CERT''->>''data_lavori_ultimati''
                        end data_effettiva_fine_lavori,
                        case 
                            when ist.id_tipo_istanza = ''COLLAUDO-DS'' then ist.numero_protocollo
                        end prot_collaudo,
                        case 
                            when ist.id_tipo_istanza = ''COLLAUDO-DS'' then ist.data_protocollo
                        end data_prot_collaudo,
                        case 
                            when ist.id_tipo_istanza = ''DRE-DS'' then ist.numero_protocollo
                        end prot_DRE,
                        case 
                            when ist.id_tipo_istanza = ''DRE-DS'' then ist.data_protocollo
                        end data_prot_DRE,
                        case 
                            when ist.id_tipo_istanza = ''RSU-DS'' then ist.numero_protocollo
                        end num_prot_RSU,
                        case 
                            when ist.id_tipo_istanza = ''RSU-DS'' then ist.data_protocollo
                        end data_prot_RSU,
                        case 
                            when ist.id_tipo_istanza = ''IL-DS'' then ist.numero_protocollo
                        end num_prot_inizio_lavori,
                        case 
                            when ist.id_tipo_istanza = ''IL-DS'' then ist.data_protocollo
                        end data_prot_inizio_lavori,
                        case 
                            when ist.id_tipo_istanza = ''IL-DS'' then ist.json_data->''TAB_CERT_AU''->>''inData''
                        end data_effettiva_inizio_lavori
                    FROM mudeopen_r_istanza_pratica mip
                        inner join mudeopen_t_istanza ist on ist.id_istanza = mip.id_istanza 
                    WHERE  id_pratica in (select pra.id_pratica from mudeopen_t_pratica pra
                        INNER JOIN  mudeopen_r_istanza_pratica ip on ip.id_pratica = pra.id_pratica where ip.id_istanza = :IDISTANZA)  
                ) pivot
            ) protocolliFO ON protocolliFO.id_istanza = mti.id_istanza	         
        where 1=1
            and mdc.fine_validita is null
            AND mti.loguser like ''%AEOS%''   
			and prae.idcomune = substring(mti.codice_istanza,4,6) 
    ) tblistanza  ',NULL,NULL,NULL,'2024-07-05 16:16:31.931','2024-07-05 16:16:31.931',NULL,NULL);
